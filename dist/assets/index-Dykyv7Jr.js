function Gh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var zc={exports:{}},Pi={},Fc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),Yh=Symbol.for("react.portal"),Xh=Symbol.for("react.fragment"),Zh=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),np=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),ip=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),Yl=Symbol.iterator;function ap(e){return e===null||typeof e!="object"?null:(e=Yl&&e[Yl]||e["@@iterator"],typeof e=="function"?e:null)}var Bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wc=Object.assign,Vc={};function tr(e,t,n){this.props=e,this.context=t,this.refs=Vc,this.updater=n||Bc}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hc(){}Hc.prototype=tr.prototype;function Ha(e,t,n){this.props=e,this.context=t,this.refs=Vc,this.updater=n||Bc}var qa=Ha.prototype=new Hc;qa.constructor=Ha;Wc(qa,tr.prototype);qa.isPureReactComponent=!0;var Xl=Array.isArray,qc=Object.prototype.hasOwnProperty,Ja={current:null},Jc={key:!0,ref:!0,__self:!0,__source:!0};function Qc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)qc.call(t,r)&&!Jc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:is,type:e,key:i,ref:o,props:s,_owner:Ja.current}}function lp(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qa(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function up(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zl=/\/+/g;function so(e,t){return typeof e=="object"&&e!==null&&e.key!=null?up(""+e.key):t.toString(36)}function zs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case Yh:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+so(o,0):r,Xl(s)?(n="",e!=null&&(n=e.replace(Zl,"$&/")+"/"),zs(s,t,n,"",function(c){return c})):s!=null&&(Qa(s)&&(s=lp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Xl(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+so(i,a);o+=zs(i,t,n,l,s)}else if(l=ap(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+so(i,a++),o+=zs(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(e,t,n){if(e==null)return e;var r=[],s=0;return zs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},Fs={transition:null},dp={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Ja};function Gc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:ms,forEach:function(e,t,n){ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Qa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=tr;I.Fragment=Xh;I.Profiler=ep;I.PureComponent=Ha;I.StrictMode=Zh;I.Suspense=sp;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;I.act=Gc;I.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ja.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)qc.call(t,l)&&!Jc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:is,type:e.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(e){return e={$$typeof:np,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tp,_context:e},e.Consumer=e};I.createElement=Qc;I.createFactory=function(e){var t=Qc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:rp,render:e}};I.isValidElement=Qa;I.lazy=function(e){return{$$typeof:op,_payload:{_status:-1,_result:e},_init:cp}};I.memo=function(e,t){return{$$typeof:ip,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};I.unstable_act=Gc;I.useCallback=function(e,t){return we.current.useCallback(e,t)};I.useContext=function(e){return we.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return we.current.useDeferredValue(e)};I.useEffect=function(e,t){return we.current.useEffect(e,t)};I.useId=function(){return we.current.useId()};I.useImperativeHandle=function(e,t,n){return we.current.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return we.current.useMemo(e,t)};I.useReducer=function(e,t,n){return we.current.useReducer(e,t,n)};I.useRef=function(e){return we.current.useRef(e)};I.useState=function(e){return we.current.useState(e)};I.useSyncExternalStore=function(e,t,n){return we.current.useSyncExternalStore(e,t,n)};I.useTransition=function(){return we.current.useTransition()};I.version="18.3.1";Fc.exports=I;var k=Fc.exports;const Kc=Uc(k),fp=Gh({__proto__:null,default:Kc},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=k,pp=Symbol.for("react.element"),mp=Symbol.for("react.fragment"),gp=Object.prototype.hasOwnProperty,yp=hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vp={key:!0,ref:!0,__self:!0,__source:!0};function Yc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gp.call(t,r)&&!vp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:pp,type:e,key:i,ref:o,props:s,_owner:yp.current}}Pi.Fragment=mp;Pi.jsx=Yc;Pi.jsxs=Yc;zc.exports=Pi;var u=zc.exports,Xc={exports:{}},Le={},Zc={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,O){var D=N.length;N.push(O);e:for(;0<D;){var Z=D-1>>>1,oe=N[Z];if(0<s(oe,O))N[Z]=O,N[D]=oe,D=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var O=N[0],D=N.pop();if(D!==O){N[0]=D;e:for(var Z=0,oe=N.length,hs=oe>>>1;Z<hs;){var Kt=2*(Z+1)-1,ro=N[Kt],Yt=Kt+1,ps=N[Yt];if(0>s(ro,D))Yt<oe&&0>s(ps,ro)?(N[Z]=ps,N[Yt]=D,Z=Yt):(N[Z]=ro,N[Kt]=D,Z=Kt);else if(Yt<oe&&0>s(ps,D))N[Z]=ps,N[Yt]=D,Z=Yt;else break e}}return O}function s(N,O){var D=N.sortIndex-O.sortIndex;return D!==0?D:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=N)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function x(N){if(w=!1,y(N),!v)if(n(l)!==null)v=!0,ur(S);else{var O=n(c);O!==null&&vn(x,O.startTime-N)}}function S(N,O){v=!1,w&&(w=!1,h(T),T=-1),g=!0;var D=p;try{for(y(O),f=n(l);f!==null&&(!(f.expirationTime>O)||N&&!b());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var oe=Z(f.expirationTime<=O);O=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),y(O)}else r(l);f=n(l)}if(f!==null)var hs=!0;else{var Kt=n(c);Kt!==null&&vn(x,Kt.startTime-O),hs=!1}return hs}finally{f=null,p=D,g=!1}}var E=!1,P=null,T=-1,B=5,L=-1;function b(){return!(e.unstable_now()-L<B)}function $(){if(P!==null){var N=e.unstable_now();L=N;var O=!0;try{O=P(!0,N)}finally{O?ie():(E=!1,P=null)}}else E=!1}var ie;if(typeof m=="function")ie=function(){m($)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ot=We.port2;We.port1.onmessage=$,ie=function(){ot.postMessage(null)}}else ie=function(){_($,0)};function ur(N){P=N,E||(E=!0,ie())}function vn(N,O){T=_(function(){N(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,ur(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var D=p;p=O;try{return N()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var D=p;p=N;try{return O()}finally{p=D}},e.unstable_scheduleCallback=function(N,O,D){var Z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Z+D:Z):D=Z,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=D+oe,N={id:d++,callback:O,priorityLevel:N,startTime:D,expirationTime:oe,sortIndex:-1},D>Z?(N.sortIndex=D,t(c,N),n(l)===null&&N===n(c)&&(w?(h(T),T=-1):w=!0,vn(x,D-Z))):(N.sortIndex=oe,t(l,N),v||g||(v=!0,ur(S))),N},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(N){var O=p;return function(){var D=p;p=O;try{return N.apply(this,arguments)}finally{p=D}}}})(ed);Zc.exports=ed;var wp=Zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=k,Re=wp;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var td=new Set,Mr={};function mn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Mr[e]=t,e=0;e<t.length;e++)td.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=Object.prototype.hasOwnProperty,_p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function kp(e){return Fo.call(tu,e)?!0:Fo.call(eu,e)?!1:_p.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function Sp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jp(e,t,n,r){if(t===null||typeof t>"u"||Sp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fe[e]=new xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fe[t]=new xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fe[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fe[e]=new xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fe[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fe[e]=new xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fe[e]=new xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fe[e]=new xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fe[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function Ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ga,Ka);fe[t]=new xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ga,Ka);fe[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ga,Ka);fe[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fe[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)});fe.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fe[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ya(e,t,n,r){var s=fe.hasOwnProperty(t)?fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jp(t,n,s,r)&&(n=null),r||s===null?kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yt=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),bn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),nd=Symbol.for("react.provider"),rd=Symbol.for("react.context"),Za=Symbol.for("react.forward_ref"),Wo=Symbol.for("react.suspense"),Vo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),sd=Symbol.for("react.offscreen"),nu=Symbol.iterator;function cr(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,io;function _r(e){if(io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);io=t&&t[1]||""}return`
`+io+e}var oo=!1;function ao(e,t){if(!e||oo)return"";oo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{oo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function bp(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=ao(e.type,!1),e;case 11:return e=ao(e.type.render,!1),e;case 1:return e=ao(e.type,!0),e;default:return""}}function Ho(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case bn:return"Portal";case Bo:return"Profiler";case Xa:return"StrictMode";case Wo:return"Suspense";case Vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rd:return(e.displayName||"Context")+".Consumer";case nd:return(e._context.displayName||"Context")+".Provider";case Za:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case el:return t=e.displayName||null,t!==null?t:Ho(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return Ho(e(t))}catch{}}return null}function Ep(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ho(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ft(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Np(e){var t=id(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=Np(e))}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=id(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qo(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ru(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ft(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ad(e,t){t=t.checked,t!=null&&Ya(e,"checked",t,!1)}function Jo(e,t){ad(e,t);var n=Ft(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qo(e,t.type,Ft(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function su(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qo(e,t,n){(t!=="number"||Xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kr=Array.isArray;function Mn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ft(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Go(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(kr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ft(n)}}function ld(e,t){var n=Ft(t.value),r=Ft(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ou(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cp=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){Cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function dd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function fd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Pp=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(e,t){if(t){if(Pp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Xo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ea=null,Un=null,zn=null;function au(e){if(e=ls(e)){if(typeof ea!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Di(t),ea(e.stateNode,e.type,t))}}function hd(e){Un?zn?zn.push(e):zn=[e]:Un=e}function pd(){if(Un){var e=Un,t=zn;if(zn=Un=null,au(e),t)for(e=0;e<t.length;e++)au(t[e])}}function md(e,t){return e(t)}function gd(){}var lo=!1;function yd(e,t,n){if(lo)return e(t,n);lo=!0;try{return md(e,t,n)}finally{lo=!1,(Un!==null||zn!==null)&&(gd(),pd())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var r=Di(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var ta=!1;if(ht)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ta=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ta=!1}function Tp(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Nr=!1,Zs=null,ei=!1,na=null,Op={onError:function(e){Nr=!0,Zs=e}};function Rp(e,t,n,r,s,i,o,a,l){Nr=!1,Zs=null,Tp.apply(Op,arguments)}function Lp(e,t,n,r,s,i,o,a,l){if(Rp.apply(this,arguments),Nr){if(Nr){var c=Zs;Nr=!1,Zs=null}else throw Error(j(198));ei||(ei=!0,na=c)}}function gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(gn(e)!==e)throw Error(j(188))}function Dp(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lu(s),e;if(i===r)return lu(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function wd(e){return e=Dp(e),e!==null?xd(e):null}function xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xd(e);if(t!==null)return t;e=e.sibling}return null}var _d=Re.unstable_scheduleCallback,uu=Re.unstable_cancelCallback,Ip=Re.unstable_shouldYield,Ap=Re.unstable_requestPaint,ee=Re.unstable_now,$p=Re.unstable_getCurrentPriorityLevel,nl=Re.unstable_ImmediatePriority,kd=Re.unstable_UserBlockingPriority,ti=Re.unstable_NormalPriority,Mp=Re.unstable_LowPriority,Sd=Re.unstable_IdlePriority,Ti=null,rt=null;function Up(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:Bp,zp=Math.log,Fp=Math.LN2;function Bp(e){return e>>>=0,e===0?32:31-(zp(e)/Fp|0)|0}var ws=64,xs=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Sr(a):(i&=o,i!==0&&(r=Sr(i)))}else o=n&~s,o!==0?r=Sr(o):i!==0&&(r=Sr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ge(t),s=1<<n,r|=e[n],t&=~s;return r}function Wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ge(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Wp(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jd(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function uo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=n}function Hp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ge(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function rl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ge(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var F=0;function bd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ed,sl,Nd,Cd,Pd,sa=!1,_s=[],Rt=null,Lt=null,Dt=null,Fr=new Map,Br=new Map,Et=[],qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function fr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ls(t),t!==null&&sl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jp(e,t,n,r,s){switch(t){case"focusin":return Rt=fr(Rt,e,t,n,r,s),!0;case"dragenter":return Lt=fr(Lt,e,t,n,r,s),!0;case"mouseover":return Dt=fr(Dt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fr.set(i,fr(Fr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Br.set(i,fr(Br.get(i)||null,e,t,n,r,s)),!0}return!1}function Td(e){var t=sn(e.target);if(t!==null){var n=gn(t);if(n!==null){if(t=n.tag,t===13){if(t=vd(n),t!==null){e.blockedOn=t,Pd(e.priority,function(){Nd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zo=r,n.target.dispatchEvent(r),Zo=null}else return t=ls(n),t!==null&&sl(t),e.blockedOn=n,!1;t.shift()}return!0}function du(e,t,n){Bs(e)&&n.delete(t)}function Qp(){sa=!1,Rt!==null&&Bs(Rt)&&(Rt=null),Lt!==null&&Bs(Lt)&&(Lt=null),Dt!==null&&Bs(Dt)&&(Dt=null),Fr.forEach(du),Br.forEach(du)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,sa||(sa=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Qp)))}function Wr(e){function t(s){return hr(s,e)}if(0<_s.length){hr(_s[0],e);for(var n=1;n<_s.length;n++){var r=_s[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rt!==null&&hr(Rt,e),Lt!==null&&hr(Lt,e),Dt!==null&&hr(Dt,e),Fr.forEach(t),Br.forEach(t),n=0;n<Et.length;n++)r=Et[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)Td(n),n.blockedOn===null&&Et.shift()}var Fn=yt.ReactCurrentBatchConfig,ri=!0;function Gp(e,t,n,r){var s=F,i=Fn.transition;Fn.transition=null;try{F=1,il(e,t,n,r)}finally{F=s,Fn.transition=i}}function Kp(e,t,n,r){var s=F,i=Fn.transition;Fn.transition=null;try{F=4,il(e,t,n,r)}finally{F=s,Fn.transition=i}}function il(e,t,n,r){if(ri){var s=ia(e,t,n,r);if(s===null)xo(e,t,r,si,n),cu(e,r);else if(Jp(s,e,t,n,r))r.stopPropagation();else if(cu(e,r),t&4&&-1<qp.indexOf(e)){for(;s!==null;){var i=ls(s);if(i!==null&&Ed(i),i=ia(e,t,n,r),i===null&&xo(e,t,r,si,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xo(e,t,r,null,n)}}var si=null;function ia(e,t,n,r){if(si=null,e=tl(r),e=sn(e),e!==null)if(t=gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function Od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case nl:return 1;case kd:return 4;case ti:case Mp:return 16;case Sd:return 536870912;default:return 16}default:return 16}}var Pt=null,ol=null,Ws=null;function Rd(){if(Ws)return Ws;var e,t=ol,n=t.length,r,s="value"in Pt?Pt.value:Pt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ws=s.slice(e,1<r?1-r:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function fu(){return!1}function De(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ks:fu,this.isPropagationStopped=fu,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=De(nr),as=Y({},nr,{view:0,detail:0}),Yp=De(as),co,fo,pr,Oi=Y({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(co=e.screenX-pr.screenX,fo=e.screenY-pr.screenY):fo=co=0,pr=e),co)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),hu=De(Oi),Xp=Y({},Oi,{dataTransfer:0}),Zp=De(Xp),em=Y({},as,{relatedTarget:0}),ho=De(em),tm=Y({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),nm=De(tm),rm=Y({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sm=De(rm),im=Y({},nr,{data:0}),pu=De(im),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lm[e])?!!t[e]:!1}function ll(){return um}var cm=Y({},as,{key:function(e){if(e.key){var t=om[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dm=De(cm),fm=Y({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=De(fm),hm=Y({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),pm=De(hm),mm=Y({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=De(mm),ym=Y({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=De(ym),wm=[9,13,27,32],ul=ht&&"CompositionEvent"in window,Cr=null;ht&&"documentMode"in document&&(Cr=document.documentMode);var xm=ht&&"TextEvent"in window&&!Cr,Ld=ht&&(!ul||Cr&&8<Cr&&11>=Cr),gu=" ",yu=!1;function Dd(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function _m(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(yu=!0,gu);case"textInput":return e=t.data,e===gu&&yu?null:e;default:return null}}function km(e,t){if(Nn)return e==="compositionend"||!ul&&Dd(e,t)?(e=Rd(),Ws=ol=Pt=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ld&&t.locale!=="ko"?null:t.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sm[e.type]:t==="textarea"}function Ad(e,t,n,r){hd(r),t=ii(t,"onChange"),0<t.length&&(n=new al("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Vr=null;function jm(e){Jd(e,0)}function Ri(e){var t=Tn(e);if(od(t))return e}function bm(e,t){if(e==="change")return t}var $d=!1;if(ht){var po;if(ht){var mo="oninput"in document;if(!mo){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),mo=typeof wu.oninput=="function"}po=mo}else po=!1;$d=po&&(!document.documentMode||9<document.documentMode)}function xu(){Pr&&(Pr.detachEvent("onpropertychange",Md),Vr=Pr=null)}function Md(e){if(e.propertyName==="value"&&Ri(Vr)){var t=[];Ad(t,Vr,e,tl(e)),yd(jm,t)}}function Em(e,t,n){e==="focusin"?(xu(),Pr=t,Vr=n,Pr.attachEvent("onpropertychange",Md)):e==="focusout"&&xu()}function Nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Vr)}function Cm(e,t){if(e==="click")return Ri(t)}function Pm(e,t){if(e==="input"||e==="change")return Ri(t)}function Tm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:Tm;function Hr(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fo.call(t,s)||!Ye(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var n=_u(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_u(n)}}function Ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Om(e){var t=zd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ud(n.ownerDocument.documentElement,n)){if(r!==null&&cl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ku(n,i);var o=ku(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rm=ht&&"documentMode"in document&&11>=document.documentMode,Cn=null,oa=null,Tr=null,aa=!1;function Su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;aa||Cn==null||Cn!==Xs(r)||(r=Cn,"selectionStart"in r&&cl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tr&&Hr(Tr,r)||(Tr=r,r=ii(oa,"onSelect"),0<r.length&&(t=new al("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cn)))}function Ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},go={},Fd={};ht&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Li(e){if(go[e])return go[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fd)return go[e]=t[n];return e}var Bd=Li("animationend"),Wd=Li("animationiteration"),Vd=Li("animationstart"),Hd=Li("transitionend"),qd=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){qd.set(e,t),mn(t,[e])}for(var yo=0;yo<ju.length;yo++){var vo=ju[yo],Lm=vo.toLowerCase(),Dm=vo[0].toUpperCase()+vo.slice(1);Vt(Lm,"on"+Dm)}Vt(Bd,"onAnimationEnd");Vt(Wd,"onAnimationIteration");Vt(Vd,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(Hd,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Im=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function bu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lp(r,t,void 0,e),e.currentTarget=null}function Jd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;bu(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;bu(s,a,c),i=l}}}if(ei)throw e=na,ei=!1,na=null,e}function q(e,t){var n=t[fa];n===void 0&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Qd(t,e,2,!1),n.add(r))}function wo(e,t,n){var r=0;t&&(r|=4),Qd(n,e,r,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[js]){e[js]=!0,td.forEach(function(n){n!=="selectionchange"&&(Im.has(n)||wo(n,!1,e),wo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,wo("selectionchange",!1,t))}}function Qd(e,t,n,r){switch(Od(t)){case 1:var s=Gp;break;case 4:s=Kp;break;default:s=il}n=s.bind(null,t,n,e),s=void 0,!ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=sn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}yd(function(){var c=i,d=tl(n),f=[];e:{var p=qd.get(e);if(p!==void 0){var g=al,v=e;switch(e){case"keypress":if(Vs(n)===0)break e;case"keydown":case"keyup":g=dm;break;case"focusin":v="focus",g=ho;break;case"focusout":v="blur",g=ho;break;case"beforeblur":case"afterblur":g=ho;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pm;break;case Bd:case Wd:case Vd:g=nm;break;case Hd:g=gm;break;case"scroll":g=Yp;break;case"wheel":g=vm;break;case"copy":case"cut":case"paste":g=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mu}var w=(t&4)!==0,_=!w&&e==="scroll",h=w?p!==null?p+"Capture":null:p;w=[];for(var m=c,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,h!==null&&(x=zr(m,h),x!=null&&w.push(Jr(m,x,y)))),_)break;m=m.return}0<w.length&&(p=new g(p,v,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Zo&&(v=n.relatedTarget||n.fromElement)&&(sn(v)||v[pt]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?sn(v):null,v!==null&&(_=gn(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(w=hu,x="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=mu,x="onPointerLeave",h="onPointerEnter",m="pointer"),_=g==null?p:Tn(g),y=v==null?p:Tn(v),p=new w(x,m+"leave",g,n,d),p.target=_,p.relatedTarget=y,x=null,sn(d)===c&&(w=new w(h,m+"enter",v,n,d),w.target=y,w.relatedTarget=_,x=w),_=x,g&&v)t:{for(w=g,h=v,m=0,y=w;y;y=wn(y))m++;for(y=0,x=h;x;x=wn(x))y++;for(;0<m-y;)w=wn(w),m--;for(;0<y-m;)h=wn(h),y--;for(;m--;){if(w===h||h!==null&&w===h.alternate)break t;w=wn(w),h=wn(h)}w=null}else w=null;g!==null&&Eu(f,p,g,w,!1),v!==null&&_!==null&&Eu(f,_,v,w,!0)}}e:{if(p=c?Tn(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var S=bm;else if(vu(p))if($d)S=Pm;else{S=Nm;var E=Em}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Cm);if(S&&(S=S(e,c))){Ad(f,S,n,d);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Qo(p,"number",p.value)}switch(E=c?Tn(c):window,e){case"focusin":(vu(E)||E.contentEditable==="true")&&(Cn=E,oa=c,Tr=null);break;case"focusout":Tr=oa=Cn=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Su(f,n,d);break;case"selectionchange":if(Rm)break;case"keydown":case"keyup":Su(f,n,d)}var P;if(ul)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Nn?Dd(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ld&&n.locale!=="ko"&&(Nn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Nn&&(P=Rd()):(Pt=d,ol="value"in Pt?Pt.value:Pt.textContent,Nn=!0)),E=ii(c,T),0<E.length&&(T=new pu(T,e,null,n,d),f.push({event:T,listeners:E}),P?T.data=P:(P=Id(n),P!==null&&(T.data=P)))),(P=xm?_m(e,n):km(e,n))&&(c=ii(c,"onBeforeInput"),0<c.length&&(d=new pu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=P))}Jd(f,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zr(e,n),i!=null&&r.unshift(Jr(e,i,s)),i=zr(e,t),i!=null&&r.push(Jr(e,i,s))),e=e.return}return r}function wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=zr(n,i),l!=null&&o.unshift(Jr(n,l,a))):s||(l=zr(n,i),l!=null&&o.push(Jr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Am=/\r\n?/g,$m=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(Am,`
`).replace($m,"")}function bs(e,t,n){if(t=Nu(t),Nu(e)!==t&&n)throw Error(j(425))}function oi(){}var la=null,ua=null;function ca(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var da=typeof setTimeout=="function"?setTimeout:void 0,Mm=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,Um=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(e){return Cu.resolve(null).then(e).catch(zm)}:da;function zm(e){setTimeout(function(){throw e})}function _o(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wr(t)}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),tt="__reactFiber$"+rr,Qr="__reactProps$"+rr,pt="__reactContainer$"+rr,fa="__reactEvents$"+rr,Fm="__reactListeners$"+rr,Bm="__reactHandles$"+rr;function sn(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pt]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pu(e);e!==null;){if(n=e[tt])return n;e=Pu(e)}return t}e=n,n=e.parentNode}return null}function ls(e){return e=e[tt]||e[pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Di(e){return e[Qr]||null}var ha=[],On=-1;function Ht(e){return{current:e}}function J(e){0>On||(e.current=ha[On],ha[On]=null,On--)}function H(e,t){On++,ha[On]=e.current,e.current=t}var Bt={},ge=Ht(Bt),be=Ht(!1),cn=Bt;function qn(e,t){var n=e.type.contextTypes;if(!n)return Bt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ee(e){return e=e.childContextTypes,e!=null}function ai(){J(be),J(ge)}function Tu(e,t,n){if(ge.current!==Bt)throw Error(j(168));H(ge,t),H(be,n)}function Gd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,Ep(e)||"Unknown",s));return Y({},n,r)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,cn=ge.current,H(ge,e),H(be,be.current),!0}function Ou(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Gd(e,t,cn),r.__reactInternalMemoizedMergedChildContext=e,J(be),J(ge),H(ge,e)):J(be),H(be,n)}var ut=null,Ii=!1,ko=!1;function Kd(e){ut===null?ut=[e]:ut.push(e)}function Wm(e){Ii=!0,Kd(e)}function qt(){if(!ko&&ut!==null){ko=!0;var e=0,t=F;try{var n=ut;for(F=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ut=null,Ii=!1}catch(s){throw ut!==null&&(ut=ut.slice(e+1)),_d(nl,qt),s}finally{F=t,ko=!1}}return null}var Rn=[],Ln=0,ui=null,ci=0,Ie=[],Ae=0,dn=null,ct=1,dt="";function Zt(e,t){Rn[Ln++]=ci,Rn[Ln++]=ui,ui=e,ci=t}function Yd(e,t,n){Ie[Ae++]=ct,Ie[Ae++]=dt,Ie[Ae++]=dn,dn=e;var r=ct;e=dt;var s=32-Ge(r)-1;r&=~(1<<s),n+=1;var i=32-Ge(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ct=1<<32-Ge(t)+s|n<<s|r,dt=i+e}else ct=1<<i|n<<s|r,dt=e}function dl(e){e.return!==null&&(Zt(e,1),Yd(e,1,0))}function fl(e){for(;e===ui;)ui=Rn[--Ln],Rn[Ln]=null,ci=Rn[--Ln],Rn[Ln]=null;for(;e===dn;)dn=Ie[--Ae],Ie[Ae]=null,dt=Ie[--Ae],Ie[Ae]=null,ct=Ie[--Ae],Ie[Ae]=null}var Oe=null,Te=null,Q=!1,Qe=null;function Xd(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ru(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Te=It(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Te=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dn!==null?{id:ct,overflow:dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Te=null,!0):!1;default:return!1}}function pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ma(e){if(Q){var t=Te;if(t){var n=t;if(!Ru(e,t)){if(pa(e))throw Error(j(418));t=It(n.nextSibling);var r=Oe;t&&Ru(e,t)?Xd(r,n):(e.flags=e.flags&-4097|2,Q=!1,Oe=e)}}else{if(pa(e))throw Error(j(418));e.flags=e.flags&-4097|2,Q=!1,Oe=e}}}function Lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Es(e){if(e!==Oe)return!1;if(!Q)return Lu(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ca(e.type,e.memoizedProps)),t&&(t=Te)){if(pa(e))throw Zd(),Error(j(418));for(;t;)Xd(e,t),t=It(t.nextSibling)}if(Lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Te=It(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Te=null}}else Te=Oe?It(e.stateNode.nextSibling):null;return!0}function Zd(){for(var e=Te;e;)e=It(e.nextSibling)}function Jn(){Te=Oe=null,Q=!1}function hl(e){Qe===null?Qe=[e]:Qe.push(e)}var Vm=yt.ReactCurrentBatchConfig;function mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Du(e){var t=e._init;return t(e._payload)}function ef(e){function t(h,m){if(e){var y=h.deletions;y===null?(h.deletions=[m],h.flags|=16):y.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function s(h,m){return h=Ut(h,m),h.index=0,h.sibling=null,h}function i(h,m,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<m?(h.flags|=2,m):y):(h.flags|=2,m)):(h.flags|=1048576,m)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,m,y,x){return m===null||m.tag!==6?(m=Po(y,h.mode,x),m.return=h,m):(m=s(m,y),m.return=h,m)}function l(h,m,y,x){var S=y.type;return S===En?d(h,m,y.props.children,x,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===St&&Du(S)===m.type)?(x=s(m,y.props),x.ref=mr(h,m,y),x.return=h,x):(x=Ys(y.type,y.key,y.props,null,h.mode,x),x.ref=mr(h,m,y),x.return=h,x)}function c(h,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=To(y,h.mode,x),m.return=h,m):(m=s(m,y.children||[]),m.return=h,m)}function d(h,m,y,x,S){return m===null||m.tag!==7?(m=un(y,h.mode,x,S),m.return=h,m):(m=s(m,y),m.return=h,m)}function f(h,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Po(""+m,h.mode,y),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gs:return y=Ys(m.type,m.key,m.props,null,h.mode,y),y.ref=mr(h,null,m),y.return=h,y;case bn:return m=To(m,h.mode,y),m.return=h,m;case St:var x=m._init;return f(h,x(m._payload),y)}if(kr(m)||cr(m))return m=un(m,h.mode,y,null),m.return=h,m;Ns(h,m)}return null}function p(h,m,y,x){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(h,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gs:return y.key===S?l(h,m,y,x):null;case bn:return y.key===S?c(h,m,y,x):null;case St:return S=y._init,p(h,m,S(y._payload),x)}if(kr(y)||cr(y))return S!==null?null:d(h,m,y,x,null);Ns(h,y)}return null}function g(h,m,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(y)||null,a(m,h,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gs:return h=h.get(x.key===null?y:x.key)||null,l(m,h,x,S);case bn:return h=h.get(x.key===null?y:x.key)||null,c(m,h,x,S);case St:var E=x._init;return g(h,m,y,E(x._payload),S)}if(kr(x)||cr(x))return h=h.get(y)||null,d(m,h,x,S,null);Ns(m,x)}return null}function v(h,m,y,x){for(var S=null,E=null,P=m,T=m=0,B=null;P!==null&&T<y.length;T++){P.index>T?(B=P,P=null):B=P.sibling;var L=p(h,P,y[T],x);if(L===null){P===null&&(P=B);break}e&&P&&L.alternate===null&&t(h,P),m=i(L,m,T),E===null?S=L:E.sibling=L,E=L,P=B}if(T===y.length)return n(h,P),Q&&Zt(h,T),S;if(P===null){for(;T<y.length;T++)P=f(h,y[T],x),P!==null&&(m=i(P,m,T),E===null?S=P:E.sibling=P,E=P);return Q&&Zt(h,T),S}for(P=r(h,P);T<y.length;T++)B=g(P,h,T,y[T],x),B!==null&&(e&&B.alternate!==null&&P.delete(B.key===null?T:B.key),m=i(B,m,T),E===null?S=B:E.sibling=B,E=B);return e&&P.forEach(function(b){return t(h,b)}),Q&&Zt(h,T),S}function w(h,m,y,x){var S=cr(y);if(typeof S!="function")throw Error(j(150));if(y=S.call(y),y==null)throw Error(j(151));for(var E=S=null,P=m,T=m=0,B=null,L=y.next();P!==null&&!L.done;T++,L=y.next()){P.index>T?(B=P,P=null):B=P.sibling;var b=p(h,P,L.value,x);if(b===null){P===null&&(P=B);break}e&&P&&b.alternate===null&&t(h,P),m=i(b,m,T),E===null?S=b:E.sibling=b,E=b,P=B}if(L.done)return n(h,P),Q&&Zt(h,T),S;if(P===null){for(;!L.done;T++,L=y.next())L=f(h,L.value,x),L!==null&&(m=i(L,m,T),E===null?S=L:E.sibling=L,E=L);return Q&&Zt(h,T),S}for(P=r(h,P);!L.done;T++,L=y.next())L=g(P,h,T,L.value,x),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?T:L.key),m=i(L,m,T),E===null?S=L:E.sibling=L,E=L);return e&&P.forEach(function($){return t(h,$)}),Q&&Zt(h,T),S}function _(h,m,y,x){if(typeof y=="object"&&y!==null&&y.type===En&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case gs:e:{for(var S=y.key,E=m;E!==null;){if(E.key===S){if(S=y.type,S===En){if(E.tag===7){n(h,E.sibling),m=s(E,y.props.children),m.return=h,h=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===St&&Du(S)===E.type){n(h,E.sibling),m=s(E,y.props),m.ref=mr(h,E,y),m.return=h,h=m;break e}n(h,E);break}else t(h,E);E=E.sibling}y.type===En?(m=un(y.props.children,h.mode,x,y.key),m.return=h,h=m):(x=Ys(y.type,y.key,y.props,null,h.mode,x),x.ref=mr(h,m,y),x.return=h,h=x)}return o(h);case bn:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(h,m.sibling),m=s(m,y.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=To(y,h.mode,x),m.return=h,h=m}return o(h);case St:return E=y._init,_(h,m,E(y._payload),x)}if(kr(y))return v(h,m,y,x);if(cr(y))return w(h,m,y,x);Ns(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(h,m.sibling),m=s(m,y),m.return=h,h=m):(n(h,m),m=Po(y,h.mode,x),m.return=h,h=m),o(h)):n(h,m)}return _}var Qn=ef(!0),tf=ef(!1),di=Ht(null),fi=null,Dn=null,pl=null;function ml(){pl=Dn=fi=null}function gl(e){var t=di.current;J(di),e._currentValue=t}function ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){fi=e,pl=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function ze(e){var t=e._currentValue;if(pl!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(fi===null)throw Error(j(308));Dn=e,fi.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var on=null;function yl(e){on===null?on=[e]:on.push(e)}function nf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,yl(t)):(n.next=s.next,s.next=n),t.interleaved=n,mt(e,r)}function mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jt=!1;function vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mt(e,n)}return s=r.interleaved,s===null?(t.next=t,yl(r)):(t.next=s.next,s.next=t),r.interleaved=t,mt(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rl(e,n)}}function Iu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var s=e.updateQueue;jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(p=t,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Y({},f,p);break e;case 2:jt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hn|=o,e.lanes=o,e.memoizedState=f}}function Au(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var us={},st=Ht(us),Gr=Ht(us),Kr=Ht(us);function an(e){if(e===us)throw Error(j(174));return e}function wl(e,t){switch(H(Kr,t),H(Gr,e),H(st,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ko(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ko(t,e)}J(st),H(st,t)}function Gn(){J(st),J(Gr),J(Kr)}function sf(e){an(Kr.current);var t=an(st.current),n=Ko(t,e.type);t!==n&&(H(Gr,e),H(st,n))}function xl(e){Gr.current===e&&(J(st),J(Gr))}var G=Ht(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=[];function _l(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var qs=yt.ReactCurrentDispatcher,jo=yt.ReactCurrentBatchConfig,fn=0,K=null,re=null,le=null,mi=!1,Or=!1,Yr=0,Hm=0;function he(){throw Error(j(321))}function kl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function Sl(e,t,n,r,s,i){if(fn=i,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Gm:Km,e=n(r,s),Or){i=0;do{if(Or=!1,Yr=0,25<=i)throw Error(j(301));i+=1,le=re=null,t.updateQueue=null,qs.current=Ym,e=n(r,s)}while(Or)}if(qs.current=gi,t=re!==null&&re.next!==null,fn=0,le=re=K=null,mi=!1,t)throw Error(j(300));return e}function jl(){var e=Yr!==0;return Yr=0,e}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?K.memoizedState=le=e:le=le.next=e,le}function Fe(){if(re===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=le===null?K.memoizedState:le.next;if(t!==null)le=t,re=e;else{if(e===null)throw Error(j(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},le===null?K.memoizedState=le=e:le=le.next=e}return le}function Xr(e,t){return typeof t=="function"?t(e):t}function bo(e){var t=Fe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((fn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,K.lanes|=d,hn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ye(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,K.lanes|=i,hn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=Fe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ye(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function of(){}function af(e,t){var n=K,r=Fe(),s=t(),i=!Ye(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,bl(cf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Zr(9,uf.bind(null,n,r,s,t),void 0,null),ue===null)throw Error(j(349));fn&30||lf(n,t,s)}return s}function lf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uf(e,t,n,r){t.value=n,t.getSnapshot=r,df(t)&&ff(e)}function cf(e,t,n){return n(function(){df(t)&&ff(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function ff(e){var t=mt(e,1);t!==null&&Ke(t,e,1,-1)}function $u(e){var t=et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},t.queue=e,e=e.dispatch=Qm.bind(null,K,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hf(){return Fe().memoizedState}function Js(e,t,n,r){var s=et();K.flags|=e,s.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function Ai(e,t,n,r){var s=Fe();r=r===void 0?null:r;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,r!==null&&kl(r,o.deps)){s.memoizedState=Zr(t,n,i,r);return}}K.flags|=e,s.memoizedState=Zr(1|t,n,i,r)}function Mu(e,t){return Js(8390656,8,e,t)}function bl(e,t){return Ai(2048,8,e,t)}function pf(e,t){return Ai(4,2,e,t)}function mf(e,t){return Ai(4,4,e,t)}function gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yf(e,t,n){return n=n!=null?n.concat([e]):null,Ai(4,4,gf.bind(null,t,e),n)}function El(){}function vf(e,t){var n=Fe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wf(e,t){var n=Fe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xf(e,t,n){return fn&21?(Ye(n,t)||(n=jd(),K.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function qm(e,t){var n=F;F=n!==0&&4>n?n:4,e(!0);var r=jo.transition;jo.transition={};try{e(!1),t()}finally{F=n,jo.transition=r}}function _f(){return Fe().memoizedState}function Jm(e,t,n){var r=Mt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kf(e))Sf(t,n);else if(n=nf(e,t,n,r),n!==null){var s=ve();Ke(n,e,r,s),jf(n,t,r)}}function Qm(e,t,n){var r=Mt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kf(e))Sf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ye(a,o)){var l=t.interleaved;l===null?(s.next=s,yl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=nf(e,t,s,r),n!==null&&(s=ve(),Ke(n,e,r,s),jf(n,t,r))}}function kf(e){var t=e.alternate;return e===K||t!==null&&t===K}function Sf(e,t){Or=mi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rl(e,n)}}var gi={readContext:ze,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Gm={readContext:ze,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:ze,useEffect:Mu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jm.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:El,useDeferredValue:function(e){return et().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=qm.bind(null,e[1]),et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=K,s=et();if(Q){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ue===null)throw Error(j(349));fn&30||lf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Mu(cf.bind(null,r,i,e),[e]),r.flags|=2048,Zr(9,uf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=et(),t=ue.identifierPrefix;if(Q){var n=dt,r=ct;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Km={readContext:ze,useCallback:vf,useContext:ze,useEffect:bl,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:wf,useReducer:bo,useRef:hf,useState:function(){return bo(Xr)},useDebugValue:El,useDeferredValue:function(e){var t=Fe();return xf(t,re.memoizedState,e)},useTransition:function(){var e=bo(Xr)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:af,useId:_f,unstable_isNewReconciler:!1},Ym={readContext:ze,useCallback:vf,useContext:ze,useEffect:bl,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:wf,useReducer:Eo,useRef:hf,useState:function(){return Eo(Xr)},useDebugValue:El,useDeferredValue:function(e){var t=Fe();return re===null?t.memoizedState=e:xf(t,re.memoizedState,e)},useTransition:function(){var e=Eo(Xr)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:af,useId:_f,unstable_isNewReconciler:!1};function He(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ya(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $i={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ve(),s=Mt(e),i=ft(r,s);i.payload=t,n!=null&&(i.callback=n),t=At(e,i,s),t!==null&&(Ke(t,e,s,r),Hs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ve(),s=Mt(e),i=ft(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=At(e,i,s),t!==null&&(Ke(t,e,s,r),Hs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ve(),r=Mt(e),s=ft(n,r);s.tag=2,t!=null&&(s.callback=t),t=At(e,s,r),t!==null&&(Ke(t,e,r,n),Hs(t,e,r))}};function Uu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(s,i):!0}function bf(e,t,n){var r=!1,s=Bt,i=t.contextType;return typeof i=="object"&&i!==null?i=ze(i):(s=Ee(t)?cn:ge.current,r=t.contextTypes,i=(r=r!=null)?qn(e,s):Bt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$i,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function zu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$i.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},vl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ze(i):(i=Ee(t)?cn:ge.current,s.context=qn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ya(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$i.enqueueReplaceState(s,s.state,null),hi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=bp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function No(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function Ef(e,t,n){n=ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vi||(vi=!0,Pa=r),wa(e,t)},n}function Nf(e,t,n){n=ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){wa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wa(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=fg.bind(null,e,t,n),t.then(e,e))}function Bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ft(-1,1),t.tag=2,At(n,t,1))),n.lanes|=1),e)}var Zm=yt.ReactCurrentOwner,je=!1;function ye(e,t,n,r){t.child=e===null?tf(t,null,n,r):Qn(t,e.child,n,r)}function Vu(e,t,n,r,s){n=n.render;var i=t.ref;return Bn(t,s),r=Sl(e,t,n,r,i,s),n=jl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gt(e,t,s)):(Q&&n&&dl(t),t.flags|=1,ye(e,t,r,s),t.child)}function Hu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Dl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cf(e,t,i,r,s)):(e=Ys(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(o,r)&&e.ref===t.ref)return gt(e,t,s)}return t.flags|=1,e=Ut(i,r),e.ref=t.ref,e.return=t,t.child=e}function Cf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Hr(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,gt(e,t,s)}return xa(e,t,n,r,s)}function Pf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(An,Pe),Pe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(An,Pe),Pe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,H(An,Pe),Pe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,H(An,Pe),Pe|=r;return ye(e,t,s,n),t.child}function Tf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,s){var i=Ee(n)?cn:ge.current;return i=qn(t,i),Bn(t,s),n=Sl(e,t,n,r,i,s),r=jl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gt(e,t,s)):(Q&&r&&dl(t),t.flags|=1,ye(e,t,n,s),t.child)}function qu(e,t,n,r,s){if(Ee(n)){var i=!0;li(t)}else i=!1;if(Bn(t,s),t.stateNode===null)Qs(e,t),bf(t,n,r),va(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ze(c):(c=Ee(n)?cn:ge.current,c=qn(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&zu(t,o,r,c),jt=!1;var p=t.memoizedState;o.state=p,hi(t,r,o,s),l=t.memoizedState,a!==r||p!==l||be.current||jt?(typeof d=="function"&&(ya(t,n,d,r),l=t.memoizedState),(a=jt||Uu(t,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rf(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:He(t.type,a),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ze(l):(l=Ee(n)?cn:ge.current,l=qn(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&zu(t,o,r,l),jt=!1,p=t.memoizedState,o.state=p,hi(t,r,o,s);var v=t.memoizedState;a!==f||p!==v||be.current||jt?(typeof g=="function"&&(ya(t,n,g,r),v=t.memoizedState),(c=jt||Uu(t,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,i,s)}function _a(e,t,n,r,s,i){Tf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ou(t,n,!1),gt(e,t,i);r=t.stateNode,Zm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qn(t,e.child,null,i),t.child=Qn(t,null,a,i)):ye(e,t,a,i),t.memoizedState=r.state,s&&Ou(t,n,!0),t.child}function Of(e){var t=e.stateNode;t.pendingContext?Tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tu(e,t.context,!1),wl(e,t.containerInfo)}function Ju(e,t,n,r,s){return Jn(),hl(s),t.flags|=256,ye(e,t,n,r),t.child}var ka={dehydrated:null,treeContext:null,retryLane:0};function Sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rf(e,t,n){var r=t.pendingProps,s=G.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(G,s&1),e===null)return ma(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zi(o,r,0,null),e=un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sa(n),t.memoizedState=ka,e):Nl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eg(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ut(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ut(a,i):(i=un(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Sa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ka,r}return i=e.child,e=i.sibling,r=Ut(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nl(e,t){return t=zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,n,r){return r!==null&&hl(r),Qn(t,e.child,null,n),e=Nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=No(Error(j(422))),Cs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=zi({mode:"visible",children:r.children},s,0,null),i=un(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Qn(t,e.child,null,o),t.child.memoizedState=Sa(o),t.memoizedState=ka,i);if(!(t.mode&1))return Cs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=No(i,r,void 0),Cs(e,t,o,r)}if(a=(o&e.childLanes)!==0,je||a){if(r=ue,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(e,s),Ke(r,e,s,-1))}return Ll(),r=No(Error(j(421))),Cs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Te=It(s.nextSibling),Oe=t,Q=!0,Qe=null,e!==null&&(Ie[Ae++]=ct,Ie[Ae++]=dt,Ie[Ae++]=dn,ct=e.id,dt=e.overflow,dn=t),t=Nl(t,r.children),t.flags|=4096,t)}function Qu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ga(e.return,t,n)}function Co(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Lf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ye(e,t,r.children,n),r=G.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qu(e,n,t);else if(e.tag===19)Qu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(G,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&pi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Co(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Co(t,!0,n,null,i);break;case"together":Co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Ut(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ut(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tg(e,t,n){switch(t.tag){case 3:Of(t),Jn();break;case 5:sf(t);break;case 1:Ee(t.type)&&li(t);break;case 4:wl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;H(di,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(G,G.current&1),t.flags|=128,null):n&t.child.childLanes?Rf(e,t,n):(H(G,G.current&1),e=gt(e,t,n),e!==null?e.sibling:null);H(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Lf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,Pf(e,t,n)}return gt(e,t,n)}var Df,ja,If,Af;Df=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ja=function(){};If=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,an(st.current);var i=null;switch(n){case"input":s=qo(e,s),r=qo(e,r),i=[];break;case"select":s=Y({},s,{value:void 0}),r=Y({},r,{value:void 0}),i=[];break;case"textarea":s=Go(e,s),r=Go(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oi)}Yo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&q("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Af=function(e,t,n,r){n!==r&&(t.flags|=4)};function gr(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ng(e,t,n){var r=t.pendingProps;switch(fl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Ee(t.type)&&ai(),pe(t),null;case 3:return r=t.stateNode,Gn(),J(be),J(ge),_l(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(Ra(Qe),Qe=null))),ja(e,t),pe(t),null;case 5:xl(t);var s=an(Kr.current);if(n=t.type,e!==null&&t.stateNode!=null)If(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return pe(t),null}if(e=an(st.current),Es(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[tt]=t,r[Qr]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)q(jr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":ru(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":iu(r,i),q("invalid",r)}Yo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bs(r.textContent,a,e),s=["children",""+a]):Mr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":ys(r),su(r,i,!0);break;case"textarea":ys(r),ou(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ud(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tt]=t,e[Qr]=r,Df(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xo(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)q(jr[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":ru(e,r),s=qo(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Y({},r,{value:void 0}),q("invalid",e);break;case"textarea":iu(e,r),s=Go(e,r),q("invalid",e);break;default:s=r}Yo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?fd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cd(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ur(e,l):typeof l=="number"&&Ur(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&Ya(e,i,l,o))}switch(n){case"input":ys(e),su(e,r,!1);break;case"textarea":ys(e),ou(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ft(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Mn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Mn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)Af(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=an(Kr.current),an(st.current),Es(t)){if(r=t.stateNode,n=t.memoizedProps,r[tt]=t,(i=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:bs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tt]=t,t.stateNode=r}return pe(t),null;case 13:if(J(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Te!==null&&t.mode&1&&!(t.flags&128))Zd(),Jn(),t.flags|=98560,i=!1;else if(i=Es(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[tt]=t}else Jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),i=!1}else Qe!==null&&(Ra(Qe),Qe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?se===0&&(se=3):Ll())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Gn(),ja(e,t),e===null&&qr(t.stateNode.containerInfo),pe(t),null;case 10:return gl(t.type._context),pe(t),null;case 17:return Ee(t.type)&&ai(),pe(t),null;case 19:if(J(G),i=t.memoizedState,i===null)return pe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)gr(i,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pi(e),o!==null){for(t.flags|=128,gr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Yn&&(t.flags|=128,r=!0,gr(i,!1),t.lanes=4194304)}else{if(!r)if(e=pi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return pe(t),null}else 2*ee()-i.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,r=!0,gr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,n=G.current,H(G,r?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return Rl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pe&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function rg(e,t){switch(fl(t),t.tag){case 1:return Ee(t.type)&&ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(),J(be),J(ge),_l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xl(t),null;case 13:if(J(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(G),null;case 4:return Gn(),null;case 10:return gl(t.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var Ps=!1,me=!1,sg=typeof WeakSet=="function"?WeakSet:Set,C=null;function In(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(e,t,r)}else n.current=null}function ba(e,t,n){try{n()}catch(r){X(e,t,r)}}var Gu=!1;function ig(e,t){if(la=ri,e=zd(),cl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ua={focusedElem:e,selectionRange:n},ri=!1,C=t;C!==null;)if(t=C,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,C=e;else for(;C!==null;){t=C;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:He(t.type,w),_);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){X(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,C=e;break}C=t.return}return v=Gu,Gu=!1,v}function Rr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ba(t,n,i)}s=s.next}while(s!==r)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ea(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $f(e){var t=e.alternate;t!==null&&(e.alternate=null,$f(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tt],delete t[Qr],delete t[fa],delete t[Fm],delete t[Bm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mf(e){return e.tag===5||e.tag===3||e.tag===4}function Ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oi));else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}function Ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ca(e,t,n),e=e.sibling;e!==null;)Ca(e,t,n),e=e.sibling}var ce=null,qe=!1;function vt(e,t,n){for(n=n.child;n!==null;)Uf(e,t,n),n=n.sibling}function Uf(e,t,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 5:me||In(n,t);case 6:var r=ce,s=qe;ce=null,vt(e,t,n),ce=r,qe=s,ce!==null&&(qe?(e=ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(qe?(e=ce,n=n.stateNode,e.nodeType===8?_o(e.parentNode,n):e.nodeType===1&&_o(e,n),Wr(e)):_o(ce,n.stateNode));break;case 4:r=ce,s=qe,ce=n.stateNode.containerInfo,qe=!0,vt(e,t,n),ce=r,qe=s;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ba(n,t,o),s=s.next}while(s!==r)}vt(e,t,n);break;case 1:if(!me&&(In(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){X(n,t,a)}vt(e,t,n);break;case 21:vt(e,t,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,vt(e,t,n),me=r):vt(e,t,n);break;default:vt(e,t,n)}}function Yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sg),t.forEach(function(r){var s=pg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ve(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ce=a.stateNode,qe=!1;break e;case 3:ce=a.stateNode.containerInfo,qe=!0;break e;case 4:ce=a.stateNode.containerInfo,qe=!0;break e}a=a.return}if(ce===null)throw Error(j(160));Uf(i,o,s),ce=null,qe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){X(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zf(t,e),t=t.sibling}function zf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),Xe(e),r&4){try{Rr(3,e,e.return),Mi(3,e)}catch(w){X(e,e.return,w)}try{Rr(5,e,e.return)}catch(w){X(e,e.return,w)}}break;case 1:Ve(t,e),Xe(e),r&512&&n!==null&&In(n,n.return);break;case 5:if(Ve(t,e),Xe(e),r&512&&n!==null&&In(n,n.return),e.flags&32){var s=e.stateNode;try{Ur(s,"")}catch(w){X(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ad(s,i),Xo(a,o);var c=Xo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?fd(s,f):d==="dangerouslySetInnerHTML"?cd(s,f):d==="children"?Ur(s,f):Ya(s,d,f,c)}switch(a){case"input":Jo(s,i);break;case"textarea":ld(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Mn(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Mn(s,!!i.multiple,i.defaultValue,!0):Mn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qr]=i}catch(w){X(e,e.return,w)}}break;case 6:if(Ve(t,e),Xe(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){X(e,e.return,w)}}break;case 3:if(Ve(t,e),Xe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(w){X(e,e.return,w)}break;case 4:Ve(t,e),Xe(e);break;case 13:Ve(t,e),Xe(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tl=ee())),r&4&&Yu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(me=(c=me)||d,Ve(t,e),me=c):Ve(t,e),Xe(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(C=e,d=e.child;d!==null;){for(f=C=d;C!==null;){switch(p=C,g=p.child,p.tag){case 0:case 11:case 14:case 15:Rr(4,p,p.return);break;case 1:In(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){X(r,n,w)}}break;case 5:In(p,p.return);break;case 22:if(p.memoizedState!==null){Zu(f);continue}}g!==null?(g.return=p,C=g):Zu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dd("display",o))}catch(w){X(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){X(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ve(t,e),Xe(e),r&4&&Yu(e);break;case 21:break;default:Ve(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mf(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ur(s,""),r.flags&=-33);var i=Ku(e);Ca(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ku(e);Na(e,a,o);break;default:throw Error(j(161))}}catch(l){X(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function og(e,t,n){C=e,Ff(e)}function Ff(e,t,n){for(var r=(e.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ps;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||me;a=Ps;var c=me;if(Ps=o,(me=l)&&!c)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?ec(s):l!==null?(l.return=o,C=l):ec(s);for(;i!==null;)C=i,Ff(i),i=i.sibling;C=s,Ps=a,me=c}Xu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):Xu(e)}}function Xu(e){for(;C!==null;){var t=C;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:me||Mi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:He(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Au(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Au(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}me||t.flags&512&&Ea(t)}catch(p){X(t,t.return,p)}}if(t===e){C=null;break}if(n=t.sibling,n!==null){n.return=t.return,C=n;break}C=t.return}}function Zu(e){for(;C!==null;){var t=C;if(t===e){C=null;break}var n=t.sibling;if(n!==null){n.return=t.return,C=n;break}C=t.return}}function ec(e){for(;C!==null;){var t=C;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mi(4,t)}catch(l){X(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){X(t,s,l)}}var i=t.return;try{Ea(t)}catch(l){X(t,i,l)}break;case 5:var o=t.return;try{Ea(t)}catch(l){X(t,o,l)}}}catch(l){X(t,t.return,l)}if(t===e){C=null;break}var a=t.sibling;if(a!==null){a.return=t.return,C=a;break}C=t.return}}var ag=Math.ceil,yi=yt.ReactCurrentDispatcher,Cl=yt.ReactCurrentOwner,Me=yt.ReactCurrentBatchConfig,M=0,ue=null,ne=null,de=0,Pe=0,An=Ht(0),se=0,es=null,hn=0,Ui=0,Pl=0,Lr=null,ke=null,Tl=0,Yn=1/0,at=null,vi=!1,Pa=null,$t=null,Ts=!1,Tt=null,wi=0,Dr=0,Ta=null,Gs=-1,Ks=0;function ve(){return M&6?ee():Gs!==-1?Gs:Gs=ee()}function Mt(e){return e.mode&1?M&2&&de!==0?de&-de:Vm.transition!==null?(Ks===0&&(Ks=jd()),Ks):(e=F,e!==0||(e=window.event,e=e===void 0?16:Od(e.type)),e):1}function Ke(e,t,n,r){if(50<Dr)throw Dr=0,Ta=null,Error(j(185));os(e,n,r),(!(M&2)||e!==ue)&&(e===ue&&(!(M&2)&&(Ui|=n),se===4&&Nt(e,de)),Ne(e,r),n===1&&M===0&&!(t.mode&1)&&(Yn=ee()+500,Ii&&qt()))}function Ne(e,t){var n=e.callbackNode;Vp(e,t);var r=ni(e,e===ue?de:0);if(r===0)n!==null&&uu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uu(n),t===1)e.tag===0?Wm(tc.bind(null,e)):Kd(tc.bind(null,e)),Um(function(){!(M&6)&&qt()}),n=null;else{switch(bd(r)){case 1:n=nl;break;case 4:n=kd;break;case 16:n=ti;break;case 536870912:n=Sd;break;default:n=ti}n=Gf(n,Bf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bf(e,t){if(Gs=-1,Ks=0,M&6)throw Error(j(327));var n=e.callbackNode;if(Wn()&&e.callbackNode!==n)return null;var r=ni(e,e===ue?de:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xi(e,r);else{t=r;var s=M;M|=2;var i=Vf();(ue!==e||de!==t)&&(at=null,Yn=ee()+500,ln(e,t));do try{cg();break}catch(a){Wf(e,a)}while(!0);ml(),yi.current=i,M=s,ne!==null?t=0:(ue=null,de=0,t=se)}if(t!==0){if(t===2&&(s=ra(e),s!==0&&(r=s,t=Oa(e,s))),t===1)throw n=es,ln(e,0),Nt(e,r),Ne(e,ee()),n;if(t===6)Nt(e,r);else{if(s=e.current.alternate,!(r&30)&&!lg(s)&&(t=xi(e,r),t===2&&(i=ra(e),i!==0&&(r=i,t=Oa(e,i))),t===1))throw n=es,ln(e,0),Nt(e,r),Ne(e,ee()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:en(e,ke,at);break;case 3:if(Nt(e,r),(r&130023424)===r&&(t=Tl+500-ee(),10<t)){if(ni(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=da(en.bind(null,e,ke,at),t);break}en(e,ke,at);break;case 4:if(Nt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ge(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ag(r/1960))-r,10<r){e.timeoutHandle=da(en.bind(null,e,ke,at),r);break}en(e,ke,at);break;case 5:en(e,ke,at);break;default:throw Error(j(329))}}}return Ne(e,ee()),e.callbackNode===n?Bf.bind(null,e):null}function Oa(e,t){var n=Lr;return e.current.memoizedState.isDehydrated&&(ln(e,t).flags|=256),e=xi(e,t),e!==2&&(t=ke,ke=n,t!==null&&Ra(t)),e}function Ra(e){ke===null?ke=e:ke.push.apply(ke,e)}function lg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nt(e,t){for(t&=~Pl,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ge(t),r=1<<n;e[n]=-1,t&=~r}}function tc(e){if(M&6)throw Error(j(327));Wn();var t=ni(e,0);if(!(t&1))return Ne(e,ee()),null;var n=xi(e,t);if(e.tag!==0&&n===2){var r=ra(e);r!==0&&(t=r,n=Oa(e,r))}if(n===1)throw n=es,ln(e,0),Nt(e,t),Ne(e,ee()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,en(e,ke,at),Ne(e,ee()),null}function Ol(e,t){var n=M;M|=1;try{return e(t)}finally{M=n,M===0&&(Yn=ee()+500,Ii&&qt())}}function pn(e){Tt!==null&&Tt.tag===0&&!(M&6)&&Wn();var t=M;M|=1;var n=Me.transition,r=F;try{if(Me.transition=null,F=1,e)return e()}finally{F=r,Me.transition=n,M=t,!(M&6)&&qt()}}function Rl(){Pe=An.current,J(An)}function ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mm(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(fl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ai();break;case 3:Gn(),J(be),J(ge),_l();break;case 5:xl(r);break;case 4:Gn();break;case 13:J(G);break;case 19:J(G);break;case 10:gl(r.type._context);break;case 22:case 23:Rl()}n=n.return}if(ue=e,ne=e=Ut(e.current,null),de=Pe=t,se=0,es=null,Pl=Ui=hn=0,ke=Lr=null,on!==null){for(t=0;t<on.length;t++)if(n=on[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}on=null}return e}function Wf(e,t){do{var n=ne;try{if(ml(),qs.current=gi,mi){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mi=!1}if(fn=0,le=re=K=null,Or=!1,Yr=0,Cl.current=null,n===null||n.return===null){se=1,es=t,ne=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=de,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Bu(o);if(g!==null){g.flags&=-257,Wu(g,o,a,i,t),g.mode&1&&Fu(i,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){Fu(i,c,t),Ll();break e}l=Error(j(426))}}else if(Q&&a.mode&1){var _=Bu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Wu(_,o,a,i,t),hl(Kn(l,a));break e}}i=l=Kn(l,a),se!==4&&(se=2),Lr===null?Lr=[i]:Lr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Ef(i,l,t);Iu(i,h);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($t===null||!$t.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Nf(i,a,t);Iu(i,x);break e}}i=i.return}while(i!==null)}qf(n)}catch(S){t=S,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function Vf(){var e=yi.current;return yi.current=gi,e===null?gi:e}function Ll(){(se===0||se===3||se===2)&&(se=4),ue===null||!(hn&268435455)&&!(Ui&268435455)||Nt(ue,de)}function xi(e,t){var n=M;M|=2;var r=Vf();(ue!==e||de!==t)&&(at=null,ln(e,t));do try{ug();break}catch(s){Wf(e,s)}while(!0);if(ml(),M=n,yi.current=r,ne!==null)throw Error(j(261));return ue=null,de=0,se}function ug(){for(;ne!==null;)Hf(ne)}function cg(){for(;ne!==null&&!Ip();)Hf(ne)}function Hf(e){var t=Qf(e.alternate,e,Pe);e.memoizedProps=e.pendingProps,t===null?qf(e):ne=t,Cl.current=null}function qf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rg(n,t),n!==null){n.flags&=32767,ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{se=6,ne=null;return}}else if(n=ng(n,t,Pe),n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);se===0&&(se=5)}function en(e,t,n){var r=F,s=Me.transition;try{Me.transition=null,F=1,dg(e,t,n,r)}finally{Me.transition=s,F=r}return null}function dg(e,t,n,r){do Wn();while(Tt!==null);if(M&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hp(e,i),e===ue&&(ne=ue=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ts||(Ts=!0,Gf(ti,function(){return Wn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var o=F;F=1;var a=M;M|=4,Cl.current=null,ig(e,n),zf(n,e),Om(ua),ri=!!la,ua=la=null,e.current=n,og(n),Ap(),M=a,F=o,Me.transition=i}else e.current=n;if(Ts&&(Ts=!1,Tt=e,wi=s),i=e.pendingLanes,i===0&&($t=null),Up(n.stateNode),Ne(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,e=Pa,Pa=null,e;return wi&1&&e.tag!==0&&Wn(),i=e.pendingLanes,i&1?e===Ta?Dr++:(Dr=0,Ta=e):Dr=0,qt(),null}function Wn(){if(Tt!==null){var e=bd(wi),t=Me.transition,n=F;try{if(Me.transition=null,F=16>e?16:e,Tt===null)var r=!1;else{if(e=Tt,Tt=null,wi=0,M&6)throw Error(j(331));var s=M;for(M|=4,C=e.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(C=c;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:Rr(8,d,i)}var f=d.child;if(f!==null)f.return=d,C=f;else for(;C!==null;){d=C;var p=d.sibling,g=d.return;if($f(d),d===c){C=null;break}if(p!==null){p.return=g,C=p;break}C=g}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,C=h;break e}C=i.return}}var m=e.current;for(C=m;C!==null;){o=C;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,C=y;else e:for(o=m;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mi(9,a)}}catch(S){X(a,a.return,S)}if(a===o){C=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,C=x;break e}C=a.return}}if(M=s,qt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ti,e)}catch{}r=!0}return r}finally{F=n,Me.transition=t}}return!1}function nc(e,t,n){t=Kn(n,t),t=Ef(e,t,1),e=At(e,t,1),t=ve(),e!==null&&(os(e,1,t),Ne(e,t))}function X(e,t,n){if(e.tag===3)nc(e,e,n);else for(;t!==null;){if(t.tag===3){nc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=Kn(n,e),e=Nf(t,e,1),t=At(t,e,1),e=ve(),t!==null&&(os(t,1,e),Ne(t,e));break}}t=t.return}}function fg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&n,ue===e&&(de&n)===n&&(se===4||se===3&&(de&130023424)===de&&500>ee()-Tl?ln(e,0):Pl|=n),Ne(e,t)}function Jf(e,t){t===0&&(e.mode&1?(t=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):t=1);var n=ve();e=mt(e,t),e!==null&&(os(e,t,n),Ne(e,n))}function hg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jf(e,n)}function pg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),Jf(e,n)}var Qf;Qf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||be.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,tg(e,t,n);je=!!(e.flags&131072)}else je=!1,Q&&t.flags&1048576&&Yd(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var s=qn(t,ge.current);Bn(t,n),s=Sl(null,t,r,e,s,n);var i=jl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ee(r)?(i=!0,li(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vl(t),s.updater=$i,t.stateNode=s,s._reactInternals=t,va(t,r,e,n),t=_a(null,t,r,!0,i,n)):(t.tag=0,Q&&i&&dl(t),ye(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=gg(r),e=He(r,e),s){case 0:t=xa(null,t,r,e,n);break e;case 1:t=qu(null,t,r,e,n);break e;case 11:t=Vu(null,t,r,e,n);break e;case 14:t=Hu(null,t,r,He(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:He(r,s),xa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:He(r,s),qu(e,t,r,s,n);case 3:e:{if(Of(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,rf(e,t),hi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Kn(Error(j(423)),t),t=Ju(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(j(424)),t),t=Ju(e,t,r,n,s);break e}else for(Te=It(t.stateNode.containerInfo.firstChild),Oe=t,Q=!0,Qe=null,n=tf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),r===s){t=gt(e,t,n);break e}ye(e,t,r,n)}t=t.child}return t;case 5:return sf(t),e===null&&ma(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ca(r,s)?o=null:i!==null&&ca(r,i)&&(t.flags|=32),Tf(e,t),ye(e,t,o,n),t.child;case 6:return e===null&&ma(t),null;case 13:return Rf(e,t,n);case 4:return wl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):ye(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:He(r,s),Vu(e,t,r,s,n);case 7:return ye(e,t,t.pendingProps,n),t.child;case 8:return ye(e,t,t.pendingProps.children,n),t.child;case 12:return ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(di,r._currentValue),r._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!be.current){t=gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ft(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ga(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ga(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bn(t,n),s=ze(s),r=r(s),t.flags|=1,ye(e,t,r,n),t.child;case 14:return r=t.type,s=He(r,t.pendingProps),s=He(r.type,s),Hu(e,t,r,s,n);case 15:return Cf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:He(r,s),Qs(e,t),t.tag=1,Ee(r)?(e=!0,li(t)):e=!1,Bn(t,n),bf(t,r,s),va(t,r,s,n),_a(null,t,r,!0,e,n);case 19:return Lf(e,t,n);case 22:return Pf(e,t,n)}throw Error(j(156,t.tag))};function Gf(e,t){return _d(e,t)}function mg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new mg(e,t,n,r)}function Dl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gg(e){if(typeof e=="function")return Dl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Za)return 11;if(e===el)return 14}return 2}function Ut(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Dl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case En:return un(n.children,s,i,t);case Xa:o=8,s|=8;break;case Bo:return e=$e(12,n,t,s|2),e.elementType=Bo,e.lanes=i,e;case Wo:return e=$e(13,n,t,s),e.elementType=Wo,e.lanes=i,e;case Vo:return e=$e(19,n,t,s),e.elementType=Vo,e.lanes=i,e;case sd:return zi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nd:o=10;break e;case rd:o=9;break e;case Za:o=11;break e;case el:o=14;break e;case St:o=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=$e(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function un(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function zi(e,t,n,r){return e=$e(22,e,r,t),e.elementType=sd,e.lanes=n,e.stateNode={isHidden:!1},e}function Po(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function To(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Il(e,t,n,r,s,i,o,a,l){return e=new yg(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$e(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(i),e}function vg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kf(e){if(!e)return Bt;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ee(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Ee(n))return Gd(e,n,t)}return t}function Yf(e,t,n,r,s,i,o,a,l){return e=Il(n,r,!0,e,s,i,o,a,l),e.context=Kf(null),n=e.current,r=ve(),s=Mt(n),i=ft(r,s),i.callback=t??null,At(n,i,s),e.current.lanes=s,os(e,s,r),Ne(e,r),e}function Fi(e,t,n,r){var s=t.current,i=ve(),o=Mt(s);return n=Kf(n),t.context===null?t.context=n:t.pendingContext=n,t=ft(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=At(s,t,o),e!==null&&(Ke(e,s,o,i),Hs(e,s,o)),o}function _i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Al(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function wg(){return null}var Xf=typeof reportError=="function"?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}Bi.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Fi(e,t,null,null)};Bi.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pn(function(){Fi(null,e,null,null)}),t[pt]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Et.length&&t!==0&&t<Et[n].priority;n++);Et.splice(n,0,e),n===0&&Td(e)}};function Ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sc(){}function xg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=_i(o);i.call(c)}}var o=Yf(t,r,e,0,null,!1,!1,"",sc);return e._reactRootContainer=o,e[pt]=o.current,qr(e.nodeType===8?e.parentNode:e),pn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=_i(l);a.call(c)}}var l=Il(e,0,!1,null,null,!1,!1,"",sc);return e._reactRootContainer=l,e[pt]=l.current,qr(e.nodeType===8?e.parentNode:e),pn(function(){Fi(t,l,n,r)}),l}function Vi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_i(o);a.call(l)}}Fi(t,o,e,s)}else o=xg(n,t,e,s,r);return _i(o)}Ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(rl(t,n|1),Ne(t,ee()),!(M&6)&&(Yn=ee()+500,qt()))}break;case 13:pn(function(){var r=mt(e,1);if(r!==null){var s=ve();Ke(r,e,1,s)}}),Al(e,1)}};sl=function(e){if(e.tag===13){var t=mt(e,134217728);if(t!==null){var n=ve();Ke(t,e,134217728,n)}Al(e,134217728)}};Nd=function(e){if(e.tag===13){var t=Mt(e),n=mt(e,t);if(n!==null){var r=ve();Ke(n,e,t,r)}Al(e,t)}};Cd=function(){return F};Pd=function(e,t){var n=F;try{return F=e,t()}finally{F=n}};ea=function(e,t,n){switch(t){case"input":if(Jo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Di(r);if(!s)throw Error(j(90));od(r),Jo(r,s)}}}break;case"textarea":ld(e,n);break;case"select":t=n.value,t!=null&&Mn(e,!!n.multiple,t,!1)}};md=Ol;gd=pn;var _g={usingClientEntryPoint:!1,Events:[ls,Tn,Di,hd,pd,Ol]},yr={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kg={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wd(e),e===null?null:e.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ti=Os.inject(kg),rt=Os}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_g;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ml(t))throw Error(j(200));return vg(e,t,null,n)};Le.createRoot=function(e,t){if(!Ml(e))throw Error(j(299));var n=!1,r="",s=Xf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Il(e,1,!1,null,null,n,!1,r,s),e[pt]=t.current,qr(e.nodeType===8?e.parentNode:e),new $l(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=wd(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return pn(e)};Le.hydrate=function(e,t,n){if(!Wi(t))throw Error(j(200));return Vi(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!Ml(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Xf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Yf(t,null,e,1,n??null,s,!1,i,o),e[pt]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bi(t)};Le.render=function(e,t,n){if(!Wi(t))throw Error(j(200));return Vi(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!Wi(e))throw Error(j(40));return e._reactRootContainer?(pn(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[pt]=null})}),!0):!1};Le.unstable_batchedUpdates=Ol;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wi(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Vi(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zf)}catch(e){console.error(e)}}Zf(),Xc.exports=Le;var Sg=Xc.exports,eh,ic=Sg;eh=ic.createRoot,ic.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}var Ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ot||(Ot={}));const oc="popstate";function jg(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return La("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ki(s)}return Eg(t,n,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function th(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bg(){return Math.random().toString(36).substr(2,8)}function ac(e,t){return{usr:e.state,key:e.key,idx:t}}function La(e,t,n,r){return n===void 0&&(n=null),ts({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sr(t):t,{state:n,key:t&&t.key||r||bg()})}function ki(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Eg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ot.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ts({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ot.Pop;let _=d(),h=_==null?null:_-c;c=_,l&&l({action:a,location:w.location,delta:h})}function p(_,h){a=Ot.Push;let m=La(w.location,_,h);c=d()+1;let y=ac(m,c),x=w.createHref(m);try{o.pushState(y,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function g(_,h){a=Ot.Replace;let m=La(w.location,_,h);c=d();let y=ac(m,c),x=w.createHref(m);o.replaceState(y,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function v(_){let h=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:ki(_);return m=m.replace(/ $/,"%20"),te(h,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,h)}let w={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(oc,f),l=_,()=>{s.removeEventListener(oc,f),l=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let h=v(_);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:g,go(_){return o.go(_)}};return w}var lc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lc||(lc={}));function Ng(e,t,n){return n===void 0&&(n="/"),Cg(e,t,n,!1)}function Cg(e,t,n,r){let s=typeof t=="string"?sr(t):t,i=Ul(s.pathname||"/",n);if(i==null)return null;let o=nh(e);Pg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=zg(i);a=Mg(o[l],c,r)}return a}function nh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zt([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Ag(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of rh(i.path))s(i,o,l)}),t}function rh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rh(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Pg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$g(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tg=/^:[\w-]+$/,Og=3,Rg=2,Lg=1,Dg=10,Ig=-2,uc=e=>e==="*";function Ag(e,t){let n=e.split("/"),r=n.length;return n.some(uc)&&(r+=Ig),t&&(r+=Rg),n.filter(s=>!uc(s)).reduce((s,i)=>s+(Tg.test(i)?Og:i===""?Lg:Dg),r)}function $g(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Mg(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:zt([i,f.pathname]),pathnameBase:Vg(zt([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=zt([i,f.pathnameBase]))}return o}function cc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ug(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Ug(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),th(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function zg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return th(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ul(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?sr(e):e;return{pathname:n?n.startsWith("/")?n:Bg(n,t):t,search:Hg(r),hash:qg(s)}}function Bg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Oo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zl(e,t){let n=Wg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fl(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=sr(e):(s=ts({},e),te(!s.pathname||!s.pathname.includes("?"),Oo("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),Oo("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),Oo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=Fg(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const zt=e=>e.join("/").replace(/\/\/+/g,"/"),Vg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sh=["post","put","patch","delete"];new Set(sh);const Qg=["get",...sh];new Set(Qg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}const Bl=k.createContext(null),Gg=k.createContext(null),Jt=k.createContext(null),Hi=k.createContext(null),Qt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),ih=k.createContext(null);function Kg(e,t){let{relative:n}=t===void 0?{}:t;ir()||te(!1);let{basename:r,navigator:s}=k.useContext(Jt),{hash:i,pathname:o,search:a}=ah(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zt([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ir(){return k.useContext(Hi)!=null}function or(){return ir()||te(!1),k.useContext(Hi).location}function oh(e){k.useContext(Jt).static||k.useLayoutEffect(e)}function Wl(){let{isDataRoute:e}=k.useContext(Qt);return e?u0():Yg()}function Yg(){ir()||te(!1);let e=k.useContext(Bl),{basename:t,future:n,navigator:r}=k.useContext(Jt),{matches:s}=k.useContext(Qt),{pathname:i}=or(),o=JSON.stringify(zl(s,n.v7_relativeSplatPath)),a=k.useRef(!1);return oh(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Fl(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zt([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function ah(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(Jt),{matches:s}=k.useContext(Qt),{pathname:i}=or(),o=JSON.stringify(zl(s,r.v7_relativeSplatPath));return k.useMemo(()=>Fl(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Xg(e,t){return Zg(e,t)}function Zg(e,t,n,r){ir()||te(!1);let{navigator:s,static:i}=k.useContext(Jt),{matches:o}=k.useContext(Qt),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=or(),f;if(t){var p;let h=typeof t=="string"?sr(t):t;c==="/"||(p=h.pathname)!=null&&p.startsWith(c)||te(!1),f=h}else f=d;let g=f.pathname||"/",v=g;if(c!=="/"){let h=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let w=!i&&n&&n.matches&&n.matches.length>0?n.matches:Ng(e,{pathname:v}),_=s0(w&&w.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:zt([c,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:zt([c,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,n,r);return t&&_?k.createElement(Hi.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ot.Pop}},_):_}function e0(){let e=l0(),t=Jg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,null)}const t0=k.createElement(e0,null);class n0 extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(Qt.Provider,{value:this.props.routeContext},k.createElement(ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r0(e){let{routeContext:t,match:n,children:r}=e,s=k.useContext(Bl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Qt.Provider,{value:t},r)}function s0(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||te(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,v=!1,w=null,_=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||t0,l&&(c<0&&p===0?(v=!0,_=null):c===p&&(v=!0,_=f.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,p+1)),m=()=>{let y;return g?y=w:v?y=_:f.route.Component?y=k.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,k.createElement(r0,{match:f,routeContext:{outlet:d,matches:h,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?k.createElement(n0,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var lh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lh||{}),Si=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Si||{});function i0(e){let t=k.useContext(Bl);return t||te(!1),t}function o0(e){let t=k.useContext(Gg);return t||te(!1),t}function a0(e){let t=k.useContext(Qt);return t||te(!1),t}function uh(e){let t=a0(),n=t.matches[t.matches.length-1];return n.route.id||te(!1),n.route.id}function l0(){var e;let t=k.useContext(ih),n=o0(Si.UseRouteError),r=uh(Si.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function u0(){let{router:e}=i0(lh.UseNavigateStable),t=uh(Si.UseNavigateStable),n=k.useRef(!1);return oh(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ns({fromRouteId:t},i)))},[e,t])}function c0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vl(e){let{to:t,replace:n,state:r,relative:s}=e;ir()||te(!1);let{future:i,static:o}=k.useContext(Jt),{matches:a}=k.useContext(Qt),{pathname:l}=or(),c=Wl(),d=Fl(t,zl(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function xt(e){te(!1)}function d0(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ot.Pop,navigator:i,static:o=!1,future:a}=e;ir()&&te(!1);let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:o,future:ns({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=sr(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,w=k.useMemo(()=>{let _=Ul(d,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:v},navigationType:s}},[l,d,f,p,g,v,s]);return w==null?null:k.createElement(Jt.Provider,{value:c},k.createElement(Hi.Provider,{children:n,value:w}))}function f0(e){let{children:t,location:n}=e;return Xg(Da(t),n)}new Promise(()=>{});function Da(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let i=[...t,s];if(r.type===k.Fragment){n.push.apply(n,Da(r.props.children,i));return}r.type!==xt&&te(!1),!r.props.index||!r.props.children||te(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Da(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(this,arguments)}function h0(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function p0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m0(e,t){return e.button===0&&(!t||t==="_self")&&!p0(e)}const g0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y0="6";try{window.__reactRouterVersion=y0}catch{}const v0="startTransition",dc=fp[v0];function w0(e){let{basename:t,children:n,future:r,window:s}=e,i=k.useRef();i.current==null&&(i.current=jg({window:s,v5Compat:!0}));let o=i.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(f=>{c&&dc?dc(()=>l(f)):l(f)},[l,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>c0(r),[r]),k.createElement(d0,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k0=k.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,p=h0(t,g0),{basename:g}=k.useContext(Jt),v,w=!1;if(typeof c=="string"&&_0.test(c)&&(v=c,x0))try{let y=new URL(window.location.href),x=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=Ul(x.pathname,g);x.origin===y.origin&&S!=null?c=S+x.search+x.hash:w=!0}catch{}let _=Kg(c,{relative:s}),h=S0(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(y){r&&r(y),y.defaultPrevented||h(y)}return k.createElement("a",Ia({},p,{href:v||_,onClick:w||i?r:m,ref:n,target:l}))});var fc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fc||(fc={}));var hc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hc||(hc={}));function S0(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Wl(),c=or(),d=ah(e,{relative:o});return k.useCallback(f=>{if(m0(f,n)){f.preventDefault();let p=r!==void 0?r:ki(c)===ki(d);l(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}const j0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvamFicGZ4cWVzanV3ZGVzbm1wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxMDUxOTgsImV4cCI6MjA2MDY4MTE5OH0.3pG1cMgl_DL5IhoqRHMGWFQUxNWVr89jf9JA7vTEJ3o",VITE_SUPABASE_URL:"https://jojabpfxqesjuwdesnmp.supabase.co"},pc=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(j0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},b0=e=>e?pc(e):pc;var ch={exports:{}},dh={},fh={exports:{}},hh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=k;function E0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N0=typeof Object.is=="function"?Object.is:E0,C0=Xn.useState,P0=Xn.useEffect,T0=Xn.useLayoutEffect,O0=Xn.useDebugValue;function R0(e,t){var n=t(),r=C0({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return T0(function(){s.value=n,s.getSnapshot=t,Ro(s)&&i({inst:s})},[e,n,t]),P0(function(){return Ro(s)&&i({inst:s}),e(function(){Ro(s)&&i({inst:s})})},[e]),O0(n),n}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!N0(e,n)}catch{return!0}}function L0(e,t){return t()}var D0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L0:R0;hh.useSyncExternalStore=Xn.useSyncExternalStore!==void 0?Xn.useSyncExternalStore:D0;fh.exports=hh;var I0=fh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=k,A0=I0;function $0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M0=typeof Object.is=="function"?Object.is:$0,U0=A0.useSyncExternalStore,z0=qi.useRef,F0=qi.useEffect,B0=qi.useMemo,W0=qi.useDebugValue;dh.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=z0(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=B0(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return f=v}return f=g}if(v=f,M0(d,g))return v;var w=r(g);return s!==void 0&&s(v,w)?(d=g,v):(d=g,f=w)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,s]);var a=U0(e,i[0],i[1]);return F0(function(){o.hasValue=!0,o.value=a},[a]),W0(a),a};ch.exports=dh;var V0=ch.exports;const H0=Uc(V0),ph={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvamFicGZ4cWVzanV3ZGVzbm1wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxMDUxOTgsImV4cCI6MjA2MDY4MTE5OH0.3pG1cMgl_DL5IhoqRHMGWFQUxNWVr89jf9JA7vTEJ3o",VITE_SUPABASE_URL:"https://jojabpfxqesjuwdesnmp.supabase.co"},{useDebugValue:q0}=Kc,{useSyncExternalStoreWithSelector:J0}=H0;let mc=!1;const Q0=e=>e;function G0(e,t=Q0,n){(ph?"production":void 0)!=="production"&&n&&!mc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mc=!0);const r=J0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return q0(r),r}const gc=e=>{(ph?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?b0(e):e,n=(r,s)=>G0(t,r,s);return Object.assign(n,t),n},K0=e=>e?gc(e):gc,Y0="modulepreload",X0=function(e){return"/"+e},yc={},Zn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=X0(l),l in yc)return;yc[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Y0,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Z0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zn(async()=>{const{default:r}=await Promise.resolve().then(()=>ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Hl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ey extends Hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ty extends Hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ny extends Hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Aa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Aa||(Aa={}));var ry=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class sy{constructor(t,{headers:n={},customFetch:r,region:s=Aa.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Z0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return ry(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new ey(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ty(d);if(!d.ok)throw new ny(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Se={},ql={},Ji={},cs={},Qi={},Gi={},iy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},er=iy();const oy=er.fetch,mh=er.fetch.bind(er),gh=er.Headers,ay=er.Request,ly=er.Response,ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:gh,Request:ay,Response:ly,default:mh,fetch:oy},Symbol.toStringTag,{value:"Module"})),uy=Kh(ar);var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});let cy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ki.default=cy;var yh=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gi,"__esModule",{value:!0});const dy=yh(uy),fy=yh(Ki);let hy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,f=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const h=await i.text();h===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=h:d=JSON.parse(h))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,g="OK")}catch{i.status===404&&w===""?(p=204,g="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&this.shouldThrowOnError)throw new fy.default(c)}return{error:c,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Gi.default=hy;var py=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const my=py(Gi);let gy=class extends my.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qi.default=gy;var yy=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});const vy=yy(Qi);let wy=class extends vy.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};cs.default=wy;var xy=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const vr=xy(cs);let _y=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ji.default=_y;var Yi={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.version=void 0;Xi.version="0.0.0-automated";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.DEFAULT_HEADERS=void 0;const ky=Xi;Yi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ky.version}`};var vh=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ql,"__esModule",{value:!0});const Sy=vh(Ji),jy=vh(cs),by=Yi;let Ey=class wh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},by.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Sy.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new jy.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ql.default=Ey;var lr=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const xh=lr(ql);Se.PostgrestClient=xh.default;const _h=lr(Ji);Se.PostgrestQueryBuilder=_h.default;const kh=lr(cs);Se.PostgrestFilterBuilder=kh.default;const Sh=lr(Qi);Se.PostgrestTransformBuilder=Sh.default;const jh=lr(Gi);Se.PostgrestBuilder=jh.default;const bh=lr(Ki);Se.PostgrestError=bh.default;var Ny=Se.default={PostgrestClient:xh.default,PostgrestQueryBuilder:_h.default,PostgrestFilterBuilder:kh.default,PostgrestTransformBuilder:Sh.default,PostgrestBuilder:jh.default,PostgrestError:bh.default};const{PostgrestClient:Cy,PostgrestQueryBuilder:f1,PostgrestFilterBuilder:h1,PostgrestTransformBuilder:p1,PostgrestBuilder:m1,PostgrestError:g1}=Ny,Py="2.11.2",Ty={"X-Client-Info":`realtime-js/${Py}`},Oy="1.0.0",Eh=1e4,Ry=1e3;var Vn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vn||(Vn={}));var Ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ce||(Ce={}));var Je;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Je||(Je={}));var $a;(function(e){e.websocket="websocket"})($a||($a={}));var rn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rn||(rn={}));class Ly{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Nh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const vc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Dy(o,e,t,s),i),{})},Dy=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Ch(i,o):Ma(o)},Ch=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return My(t,n)}switch(e){case W.bool:return Iy(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Ay(t);case W.json:case W.jsonb:return $y(t);case W.timestamp:return Uy(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Ma(t);default:return Ma(t)}},Ma=e=>e,Iy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ay=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$y=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},My=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ch(t,a))}return e},Uy=e=>typeof e=="string"?e.replace(" ","T"):e,Ph=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Lo{constructor(t,n,r={},s=Eh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wc||(wc={}));class Ir{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ir.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ir.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ir.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const p=d.map(_=>_.presence_ref),g=f.map(_=>_.presence_ref),v=d.filter(_=>g.indexOf(_.presence_ref)<0),w=f.filter(_=>p.indexOf(_.presence_ref)<0);v.length>0&&(a[c]=v),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xc||(xc={}));var _c;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_c||(_c={}));var lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class Jl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new Nh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ir(this),this.broadcastEndpointURL=Ph(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(lt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(lt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(lt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,v=[];for(let w=0;w<g;w++){const _=p[w],{filter:{event:h,schema:m,table:y,filter:x}}=_,S=d&&d[w];if(S&&S.event===h&&S.schema===m&&S.table===y&&S.filter===x)v.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),t==null||t(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(lt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Lo(this,Je.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Lo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Je;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,w,_;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=g.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,w,_,h,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(m=(h=g==null?void 0:g.filter)===null||h===void 0?void 0:h.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:w,table:_,commit_timestamp:h,type:m,errors:y}=v;p=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:h,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(p,r)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Jl.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Je.close,{},t)}_onError(t){this._on(Je.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vc(t.columns,t.old_record)),n}}const zy=()=>{},Fy=typeof WebSocket<"u",By=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wy{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ty,this.params={},this.timeout=Eh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zy,this.conn=null,this.sendBuffer=[],this.serializer=new Ly,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Zn(async()=>{const{default:l}=await Promise.resolve().then(()=>ar);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${$a.websocket}`,this.httpEndpoint=Ph(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Fy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Vy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Zn(async()=>{const{default:t}=await import("./browser-2V1g415m.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oy}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return rn.Connecting;case Vn.open:return rn.Open;case Vn.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}channel(t,n={config:{}}){const r=new Jl(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Je.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ry,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Je.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([By],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Vy{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Ql extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Hy extends Ql{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ua extends Ql{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var qy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Th=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zn(async()=>{const{default:r}=await Promise.resolve().then(()=>ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Jy=()=>qy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zn(()=>Promise.resolve().then(()=>ar),void 0)).Response:Response}),za=e=>{if(Array.isArray(e))return e.map(n=>za(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=za(r)}),t};var yn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Do=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qy=(e,t,n)=>yn(void 0,void 0,void 0,function*(){const r=yield Jy();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Hy(Do(s),e.status||500))}).catch(s=>{t(new Ua(Do(s),s))}):t(new Ua(Do(e),e))}),Gy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ds(e,t,n,r,s,i){return yn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Gy(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Qy(l,a,r))})})}function ji(e,t,n,r){return yn(this,void 0,void 0,function*(){return ds(e,"GET",t,n,r)})}function bt(e,t,n,r,s){return yn(this,void 0,void 0,function*(){return ds(e,"POST",t,r,s,n)})}function Ky(e,t,n,r,s){return yn(this,void 0,void 0,function*(){return ds(e,"PUT",t,r,s,n)})}function Yy(e,t,n,r){return yn(this,void 0,void 0,function*(){return ds(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Oh(e,t,n,r,s){return yn(this,void 0,void 0,function*(){return ds(e,"DELETE",t,r,s,n)})}var _e=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Xy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zy{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Th(s)}uploadOrUpdate(t,n,r,s){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:kc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ql("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return _e(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(t,n){return _e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ji(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ji(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:za(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Yy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof Ua){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}list(t,n,r){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Xy),n),{prefix:t||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ev="2.7.1",tv={"X-Client-Info":`storage-js/${ev}`};var xn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class nv{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},tv),n),this.fetch=Th(r)}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return xn(this,void 0,void 0,function*(){try{return{data:yield Ky(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}}class rv extends nv{constructor(t,n={},r){super(t,n,r)}from(t){return new Zy(this.url,this.headers,t,this.fetch)}}const sv="2.49.4";let br="";typeof Deno<"u"?br="deno":typeof document<"u"?br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?br="react-native":br="node";const iv={"X-Client-Info":`supabase-js-${br}/${sv}`},ov={headers:iv},av={schema:"public"},lv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uv={};var cv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const dv=e=>{let t;return e?t=e:typeof fetch>"u"?t=mh:t=fetch,(...n)=>t(...n)},fv=()=>typeof Headers>"u"?gh:Headers,hv=(e,t,n)=>{const r=dv(n),s=fv();return(i,o)=>cv(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var pv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function mv(e){return e.replace(/\/$/,"")}function gv(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>pv(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Rh="2.69.1",jn=30*1e3,Fa=3,Io=Fa*jn,yv="http://localhost:9999",vv="supabase.auth.token",wv={"X-Client-Info":`gotrue-js/${Rh}`},Ba="X-Supabase-Api-Version",Lh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_v=6e5;class Gl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kv extends Gl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Sv(e){return R(e)&&e.name==="AuthApiError"}class Dh extends Gl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gt extends Gl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class _t extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jv(e){return R(e)&&e.name==="AuthSessionMissingError"}class Ao extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends Gt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends Gt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bv(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sc extends Gt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wa extends Gt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $o(e){return R(e)&&e.name==="AuthRetryableFetchError"}class jc extends Gt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ar extends Gt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ec=` 	
\r=`.split(""),Ev=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ec.length;t+=1)e[Ec[t].charCodeAt(0)]=-2;for(let t=0;t<bc.length;t+=1)e[bc[t].charCodeAt(0)]=t;return e})();function Ih(e,t,n){const r=Ev[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nc(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Pv(o,r,n)};for(let o=0;o<e.length;o+=1)Ih(e.charCodeAt(o),s,i);return t.join("")}function Nv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Cv(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Nv(r,t)}}function Pv(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Tv(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ih(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Ov(e){const t=[];return Cv(e,n=>t.push(n)),new Uint8Array(t)}function Rv(e){return Math.round(Date.now()/1e3)+e}function Lv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},$r=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Dv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Ah=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zn(async()=>{const{default:r}=await Promise.resolve().then(()=>ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Iv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$h=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ds=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Is=async(e,t)=>{await e.removeItem(t)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Zi.promiseConstructor=Promise;function Mo(e){const t=e.split(".");if(t.length!==3)throw new Ar("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!xv.test(t[r]))throw new Ar("JWT not in base64url format");return{header:JSON.parse(Nc(t[0])),payload:JSON.parse(Nc(t[1])),signature:Tv(t[2]),raw:{header:t[0],payload:t[1]}}}async function Av(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $v(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Mv(e){return("0"+e.toString(16)).substr(-2)}function Uv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Mv).join("")}async function zv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Fv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zv(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _n(e,t,n=!1){const r=Uv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $h(e,`${t}-code-verifier`,s);const i=await Fv(r);return[i,r===i?"plain":"s256"]}const Bv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wv(e){const t=e.headers.get(Ba);if(!t||!t.match(Bv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Hv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var qv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jv=[502,503,504];async function Cc(e){var t;if(!Iv(e))throw new Wa(tn(e),0);if(Jv.includes(e.status))throw new Wa(tn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Dh(tn(i),i)}let r;const s=Wv(e);if(s&&s.getTime()>=Lh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jc(tn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jc(tn(n),e.status,n.weak_password.reasons);throw new kv(tn(n),e.status||500,r)}const Qv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ba]||(i[Ba]=Lh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Gv(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Gv(e,t,n,r,s,i){const o=Qv(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Wa(tn(l),0)}if(a.ok||await Cc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Cc(l)}}function kt(e){var t;let n=null;Zv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Rv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Pc(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ct(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kv(e){return{data:e,error:null}}function Yv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=qv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Xv(e){return e}function Zv(e){return e.access_token&&e.refresh_token&&e.expires_in}var ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class tw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ah(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ct})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ew(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ct})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xv});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ct})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ct})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ct})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}const nw={getItem:e=>$r()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$r()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$r()&&globalThis.localStorage.removeItem(e)}};function Tc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function rw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kn={debug:!!(globalThis&&$r()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sw extends Mh{}async function iw(e,t,n){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rw();const ow={url:yv,storageKey:vv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oc(e,t,n){return await n()}class rs{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rs.nextInstanceID,rs.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ow),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ah(s.fetch),this.lock=s.lock||Oc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iw:this.lock=Oc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:$r()?this.storage=nw:(this.memoryStorage={},this.storage=Tc(this.memoryStorage)):(this.memoryStorage={},this.storage=Tc(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Dv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bv(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new Dh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await _n(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},xform:kt})}else if("phone"in t){const{phone:d,password:f,options:p}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:kt})}else throw new Rs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc})}else throw new Rs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ao}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:kt});if(await Is(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ao}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ao}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _n(this.storage,this.storageKey));const{error:f}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Rs("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _n(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kv})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new _t;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Rs("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Io:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ct}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(n){if(R(n))return jv(n)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await _n(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ct});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Mo(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ze())throw new Ls("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ls(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sc("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Ls("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const g=p-d;g*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=p-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const h={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:t.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Sv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Lv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await _n(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ze()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $v(async s=>(s>0&&await Av(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$o(i)&&Date.now()+o-r<jn})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ds(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Io;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Io}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),$o(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return $o(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $h(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jn}ms, refresh threshold is ${Fa} ticks`),s<=Fa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await _n(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+_v>Date.now()))return r;const{data:s,error:i}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ar("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Ar("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Mo(r);if(Vv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=Hv(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Ov(`${a}.${l}`)))throw new Ar("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}rs.nextInstanceID=0;const aw=rs;class lw extends aw{constructor(t){super(t)}}var uw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class cw{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=mv(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:av,realtime:uv,auth:Object.assign(Object.assign({},lv),{storageKey:l}),global:ov},d=gv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=hv(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Cy(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new sy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return uw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lw({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Wy(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dw=(e,t,n)=>new cw(e,t,n),fw="https://jojabpfxqesjuwdesnmp.supabase.co",hw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvamFicGZ4cWVzanV3ZGVzbm1wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxMDUxOTgsImV4cCI6MjA2MDY4MTE5OH0.3pG1cMgl_DL5IhoqRHMGWFQUxNWVr89jf9JA7vTEJ3o",V=dw(fw,hw);function Be(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Wt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pw(e,t){const n=Be(e);return isNaN(t)?Wt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const Uh=6048e5,mw=864e5;let gw={};function eo(){return gw}function ss(e,t){var a,l,c,d;const n=eo(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Be(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function bi(e){return ss(e,{weekStartsOn:1})}function zh(e){const t=Be(e),n=t.getFullYear(),r=Wt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=bi(r),i=Wt(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=bi(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Va(e){const t=Be(e);return t.setHours(0,0,0,0),t}function Rc(e){const t=Be(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function yw(e,t){const n=Va(e),r=Va(t),s=+n-Rc(n),i=+r-Rc(r);return Math.round((s-i)/mw)}function vw(e){const t=zh(e),n=Wt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),bi(n)}function ww(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xw(e){if(!ww(e)&&typeof e!="number")return!1;const t=Be(e);return!isNaN(Number(t))}function _w(e){const t=Be(e),n=Wt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const kw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sw=(e,t,n)=>{let r;const s=kw[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ew={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nw={date:Uo({formats:jw,defaultWidth:"full"}),time:Uo({formats:bw,defaultWidth:"full"}),dateTime:Uo({formats:Ew,defaultWidth:"full"})},Cw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pw=(e,t,n,r)=>Cw[e];function wr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Tw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ow={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Iw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Aw=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$w={ordinalNumber:Aw,era:wr({values:Tw,defaultWidth:"wide"}),quarter:wr({values:Ow,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wr({values:Rw,defaultWidth:"wide"}),day:wr({values:Lw,defaultWidth:"wide"}),dayPeriod:wr({values:Dw,defaultWidth:"wide",formattingValues:Iw,defaultFormattingWidth:"wide"})};function xr(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?Uw(a,f=>f.test(o)):Mw(a,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function Mw(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Uw(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function zw(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const Fw=/^(\d+)(th|st|nd|rd)?/i,Bw=/\d+/i,Ww={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vw={any:[/^b/i,/^(a|c)/i]},Hw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qw={any:[/1/i,/2/i,/3/i,/4/i]},Jw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zw={ordinalNumber:zw({matchPattern:Fw,parsePattern:Bw,valueCallback:e=>parseInt(e,10)}),era:xr({matchPatterns:Ww,defaultMatchWidth:"wide",parsePatterns:Vw,defaultParseWidth:"any"}),quarter:xr({matchPatterns:Hw,defaultMatchWidth:"wide",parsePatterns:qw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xr({matchPatterns:Jw,defaultMatchWidth:"wide",parsePatterns:Qw,defaultParseWidth:"any"}),day:xr({matchPatterns:Gw,defaultMatchWidth:"wide",parsePatterns:Kw,defaultParseWidth:"any"}),dayPeriod:xr({matchPatterns:Yw,defaultMatchWidth:"any",parsePatterns:Xw,defaultParseWidth:"any"})},ex={code:"en-US",formatDistance:Sw,formatLong:Nw,formatRelative:Pw,localize:$w,match:Zw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tx(e){const t=Be(e);return yw(t,_w(t))+1}function nx(e){const t=Be(e),n=+bi(t)-+vw(t);return Math.round(n/Uh)+1}function Fh(e,t){var d,f,p,g;const n=Be(e),r=n.getFullYear(),s=eo(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Wt(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ss(o,t),l=Wt(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ss(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function rx(e,t){var a,l,c,d;const n=eo(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=Fh(e,t),i=Wt(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ss(i,t)}function sx(e,t){const n=Be(e),r=+ss(n,t)-+rx(n,t);return Math.round(r/Uh)+1}function z(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const wt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return z(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):z(n+1,2)},d(e,t){return z(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return z(e.getHours()%12||12,t.length)},H(e,t){return z(e.getHours(),t.length)},m(e,t){return z(e.getMinutes(),t.length)},s(e,t){return z(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return z(s,t.length)}},Sn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lc={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return wt.y(e,t)},Y:function(e,t,n,r){const s=Fh(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return z(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):z(i,t.length)},R:function(e,t){const n=zh(e);return z(n,t.length)},u:function(e,t){const n=e.getFullYear();return z(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return z(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return z(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return wt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return z(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=sx(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):z(s,t.length)},I:function(e,t,n){const r=nx(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):z(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):wt.d(e,t)},D:function(e,t,n){const r=tx(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):z(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return z(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return z(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return z(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Sn.noon:r===0?s=Sn.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Sn.evening:r>=12?s=Sn.afternoon:r>=4?s=Sn.morning:s=Sn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return wt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):wt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):z(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):z(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wt.s(e,t)},S:function(e,t){return wt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ic(r);case"XXXX":case"XX":return nn(r);case"XXXXX":case"XXX":default:return nn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ic(r);case"xxxx":case"xx":return nn(r);case"xxxxx":case"xxx":default:return nn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Dc(r,":");case"OOOO":default:return"GMT"+nn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Dc(r,":");case"zzzz":default:return"GMT"+nn(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return z(r,t.length)},T:function(e,t,n){const r=e.getTime();return z(r,t.length)}};function Dc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+z(i,2)}function Ic(e,t){return e%60===0?(e>0?"-":"+")+z(Math.abs(e)/60,2):nn(e,t)}function nn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=z(Math.trunc(r/60),2),i=z(r%60,2);return n+s+t+i}const Ac=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Bh=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ix=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Ac(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Ac(r,t)).replace("{{time}}",Bh(s,t))},ox={p:Bh,P:ix},ax=/^D+$/,lx=/^Y+$/,ux=["D","DD","YY","YYYY"];function cx(e){return ax.test(e)}function dx(e){return lx.test(e)}function fx(e,t,n){const r=hx(e,t,n);if(console.warn(r),ux.includes(e))throw new RangeError(r)}function hx(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const px=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gx=/^'([^]*?)'?$/,yx=/''/g,vx=/[a-zA-Z]/;function zo(e,t,n){var d,f,p,g;const r=eo(),s=r.locale??ex,i=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,a=Be(e);if(!xw(a))throw new RangeError("Invalid time value");let l=t.match(mx).map(v=>{const w=v[0];if(w==="p"||w==="P"){const _=ox[w];return _(v,s.formatLong)}return v}).join("").match(px).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:wx(v)};if(Lc[w])return{isToken:!0,value:v};if(w.match(vx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const w=v.value;(dx(w)||cx(w))&&fx(w,t,String(e));const _=Lc[w[0]];return _(a,w,s.localize,c)}).join("")}function wx(e){const t=e.match(gx);return t?t[1].replace(yx,"'"):e}function $c(e,t){return pw(e,-t)}const Wh={async login(e,t){const{data:n,error:r}=await V.rpc("admin_login",{p_email:e,p_password:t});if(r)throw r;return n},async getDashboardStats(){const e=Va(new Date),t=$c(e,6),{data:n,error:r}=await V.from("bookings").select(`
        date,
        status,
        staff!inner (
          pricing
        )
      `).gte("date",zo(t,"yyyy-MM-dd")).lte("date",zo(e,"yyyy-MM-dd"));if(r)throw r;const{data:s,error:i}=await V.from("staff").select(`
        id,
        name,
        bookings (
          id,
          status
        )
      `);if(i)throw i;const{data:o,error:a}=await V.from("bookings").select(`
        id,
        status,
        staff!inner (
          pricing
        )
      `);if(a)throw a;const{count:l,error:c}=await V.from("users").select("id",{count:"exact"});if(c)throw c;const d=new Map;for(let v=0;v<=6;v++){const w=zo($c(e,v),"yyyy-MM-dd");d.set(w,{date:w,totalBookings:0,confirmedBookings:0,cancelledBookings:0,revenue:0})}n.forEach(v=>{const w=d.get(v.date);w&&(w.totalBookings++,v.status==="confirmed"||v.status==="completed"?(w.confirmedBookings++,w.revenue+=v.staff.pricing):v.status==="cancelled"&&w.cancelledBookings++)});const f=s.map(v=>({staffId:v.id,staffName:v.name,totalBookings:v.bookings.length,revenue:v.bookings.reduce((w,_)=>_.status==="confirmed"||_.status==="completed"?w+1:w,0)})),p=o.length,g=o.reduce((v,w)=>w.status==="confirmed"||w.status==="completed"?v+w.staff.pricing:v,0);return{dailyStats:Array.from(d.values()),staffStats:f,totalBookings:p,totalRevenue:g,totalUsers:l||0}},async getAuditLogs(e=10){const{data:t,error:n}=await V.from("audit_logs").select(`
        *,
        admin_users (
          email
        )
      `).order("created_at",{ascending:!1}).limit(e);if(n)throw n;return t}},to=K0(e=>({user:null,isLoading:!1,error:null,login:async(t,n)=>{e({isLoading:!0,error:null});try{const r=await Wh.login(t,n);if(r.error)throw new Error(r.error);e({user:r,isLoading:!1})}catch(r){e({error:r.message,isLoading:!1})}},logout:async()=>{e({isLoading:!0,error:null});try{await supabase.auth.signOut(),e({user:null,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},clearError:()=>e({error:null})}));function As({children:e}){return to(n=>n.user)?e:u.jsx(Vl,{to:"/login",replace:!0})}function xx({children:e}){const t=to(n=>n.user);return!t||t.role!=="admin"?u.jsx(Vl,{to:"/dashboard",replace:!0}):e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>k.createElement("svg",{ref:d,..._x,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${kx(e)}`,a].join(" "),...c},[...t.map(([f,p])=>k.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=U("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=U("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=U("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=U("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=U("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=U("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=U("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=U("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Fx=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(""),s=Wl(),{login:i,user:o,isLoading:a,error:l,clearError:c}=to();k.useEffect(()=>{o&&s("/dashboard")},[o,s]);const d=async f=>{f.preventDefault(),c(),await i(e,n)};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(Ei,{className:"h-12 w-12 text-blue-600"})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Panel"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to manage your booking system"})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u.jsxs("form",{className:"space-y-6",onSubmit:d,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"admin@example.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:f=>r(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),l&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"flex",children:u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Login failed"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:l})]})})}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?u.jsx(Ci,{className:"w-5 h-5 animate-spin"}):"Sign in"})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Default credentials"})})]}),u.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3 text-sm text-gray-500",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Email:"})," admin@example.com"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Password:"})," admin123"]})]})]})]})})]})},Bx=({to:e,icon:t,label:n,active:r})=>u.jsxs(k0,{to:e,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[u.jsx("div",{className:"flex-shrink-0",children:t}),u.jsx("span",{className:"font-medium",children:n})]}),Wx=()=>{const t=or().pathname,n=[{to:"/dashboard",icon:u.jsx(Ex,{size:20}),label:"Dashboard"},{to:"/bookings",icon:u.jsx(Ei,{size:20}),label:"Bookings"},{to:"/staff",icon:u.jsx(Qh,{size:20}),label:"Staff"},{to:"/schedule",icon:u.jsx(no,{size:20}),label:"Schedule"},{to:"/settings",icon:u.jsx(Lx,{size:20}),label:"Settings"}];return u.jsxs("div",{className:"w-64 h-full bg-white border-r border-gray-200 flex flex-col",children:[u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ei,{className:"h-8 w-8 text-blue-600"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"BookingBot"})]})}),u.jsx("div",{className:"flex-1 px-3 py-4 space-y-1",children:n.map(r=>u.jsx(Bx,{to:r.to,icon:r.icon,label:r.label,active:t===r.to},r.to))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("button",{className:"flex items-center space-x-3 px-4 py-3 w-full rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[u.jsx(Tx,{size:20}),u.jsx("span",{className:"font-medium",children:"Logout"})]})})]})},Vx=({title:e})=>{const[t,n]=k.useState(!1),[r,s]=k.useState(!1);return u.jsxs("header",{className:"bg-white border-b border-gray-200 py-4 px-6 flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>n(!t),children:[u.jsx(Nx,{size:20,className:"text-gray-600"}),u.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:[1,2,3].map(i=>u.jsxs("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50",children:[u.jsx("p",{className:"text-sm text-gray-800",children:"New booking from Alisher for tomorrow at 14:00"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"10 minutes ago"})]},i))}),u.jsx("div",{className:"p-3 text-center border-t border-gray-200",children:u.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all notifications"})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{className:"flex items-center space-x-2",onClick:()=>s(!r),children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white",children:u.jsx($x,{size:16})}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Admin"})]}),r&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[u.jsxs("div",{className:"p-3 border-b border-gray-200",children:[u.jsx("p",{className:"font-medium text-gray-900",children:"Admin User"}),u.jsx("p",{className:"text-sm text-gray-500",children:"admin@example.com"})]}),u.jsxs("div",{className:"p-2",children:[u.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Profile"}),u.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Settings"}),u.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-gray-100 rounded-md",children:"Logout"})]})]})]})]})]})},it=({children:e,title:t})=>u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx(Wx,{}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(Vx,{title:t}),u.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6",children:e})]})]}),$s=({title:e,value:t,icon:n,change:r=0,changeTimeframe:s="from last week"})=>{const i=r>=0;return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h3",{className:"text-gray-500 font-medium text-sm",children:e}),u.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:n})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),r!==void 0&&u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsxs("div",{className:`flex items-center ${i?"text-green-600":"text-red-600"}`,children:[i?u.jsx(bx,{size:16,className:"mr-1"}):u.jsx(jx,{size:16,className:"mr-1"}),u.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(r),"%"]})]}),u.jsx("span",{className:"text-sm text-gray-500 ml-1",children:s})]})]})]})},Hx=({data:e})=>{const t=Math.max(...e.map(n=>n.totalBookings));return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Booking Trends"}),u.jsxs("select",{className:"text-sm border border-gray-300 rounded-md px-3 py-1.5",children:[u.jsx("option",{children:"Last 7 days"}),u.jsx("option",{children:"Last 30 days"}),u.jsx("option",{children:"Last 3 months"})]})]}),u.jsx("div",{className:"h-64",children:u.jsx("div",{className:"flex h-full items-end space-x-2",children:e.map((n,r)=>{const s=n.totalBookings/t*100,i=n.confirmedBookings/n.totalBookings*s,o=n.cancelledBookings/n.totalBookings*s,a=s-i-o,l=new Date(n.date).toLocaleDateString("en-US",{weekday:"short"});return u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end",children:[u.jsxs("div",{className:"w-full relative",style:{height:`${s}%`},children:[u.jsx("div",{className:"absolute bottom-0 w-full bg-green-500 rounded-t-sm",style:{height:`${i}%`}}),u.jsx("div",{className:"absolute bottom-0 w-full bg-yellow-500 rounded-t-sm",style:{height:`${a}%`,marginBottom:`${i}%`}}),u.jsx("div",{className:"absolute bottom-0 w-full bg-red-500 rounded-t-sm",style:{height:`${o}%`,marginBottom:`${i+a}%`}})]}),u.jsx("div",{className:"text-xs text-gray-500 mt-2",children:l})]},r)})})}),u.jsxs("div",{className:"flex justify-center space-x-6 mt-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Confirmed"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Pending"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Cancelled"})]})]})]})},qx=({data:e})=>{const t=[...e].sort((n,r)=>r.totalBookings-n.totalBookings);return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance"}),u.jsxs("select",{className:"text-sm border border-gray-300 rounded-md px-3 py-1.5",children:[u.jsx("option",{children:"By Bookings"}),u.jsx("option",{children:"By Revenue"})]})]}),u.jsx("div",{className:"space-y-5",children:t.map(n=>{const r=n.totalBookings/t[0].totalBookings*100;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"font-medium text-gray-700",children:n.staffName}),u.jsxs("span",{className:"text-sm text-gray-500",children:[n.totalBookings," bookings"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:u.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${r}%`}})}),u.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[u.jsxs("span",{children:["Revenue: ",new Intl.NumberFormat("en-US",{style:"currency",currency:"UZS",minimumFractionDigits:0}).format(n.revenue)]}),u.jsxs("span",{children:["Avg: ",new Intl.NumberFormat("en-US",{style:"currency",currency:"UZS",minimumFractionDigits:0}).format(n.revenue/n.totalBookings)]})]})]},n.staffId)})})]})},Jx=({bookings:e})=>{const t=n=>{switch(n){case"confirmed":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[u.jsx(Ni,{size:12,className:"mr-1"}),"Confirmed"]});case"pending":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[u.jsx(qh,{size:12,className:"mr-1"}),"Pending"]});case"cancelled":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[u.jsx(fs,{size:12,className:"mr-1"}),"Cancelled"]});case"completed":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(Ni,{size:12,className:"mr-1"}),"Completed"]});default:return null}};return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"}),u.jsxs("button",{className:"text-sm text-blue-600 font-medium flex items-center",children:[u.jsx(Ox,{size:16,className:"mr-1"}),"Add Booking"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>{var r;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex items-center",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.userName}),u.jsx("div",{className:"text-sm text-gray-500",children:n.userPhone})]})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm text-gray-900",children:["Staff #",n.staffId]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(no,{size:16,className:"text-gray-400 mr-1.5"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-900",children:new Date(n.date).toLocaleDateString()}),u.jsx("div",{className:"text-sm text-gray-500",children:(r=n.timeSlot)!=null&&r.start?`${n.timeSlot.start} - ${n.timeSlot.end}`:"Time not set"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t(n.status)}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[u.jsx("button",{className:"text-blue-600 hover:text-blue-900 font-medium mr-3",children:"View"}),u.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",children:"Edit"})]})]},n.id)})})]})}),u.jsx("div",{className:"p-4 border-t border-gray-200 text-center",children:u.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all bookings"})})]})},nt={async getBookings(){const{data:e,error:t}=await V.from("bookings").select(`
        *,
        users (
          name,
          phone
        ),
        staff (
          name
        )
      `).order("date",{ascending:!1});if(t)throw t;return e},async checkAvailability({staff_id:e,date:t,start_time:n,end_time:r,booking_id:s=null}){const{data:i,error:o}=await V.rpc("check_booking_availability",{p_staff_id:e,p_date:t,p_start_time:n,p_end_time:r,p_booking_id:s,p_buffer_minutes:15});if(o)throw new Error("Failed to check availability: "+o.message);return i},async getAvailableTimeSlots(e,t){const{data:n,error:r}=await V.rpc("get_available_time_slots",{p_staff_id:e,p_date:t,p_buffer_minutes:15});if(r)throw r;return n},async createBooking(e){const t=await this.checkAvailability({staff_id:e.staff_id,date:e.date,start_time:e.start_time,end_time:e.end_time});if(!t.is_valid)throw new Error(t.message||"Time slot is not available");const{data:n,error:r}=await V.from("bookings").insert([e]).select(`
        *,
        users (
          name,
          phone
        ),
        staff (
          name
        )
      `).single();if(r)throw r;return n},async updateBooking(e,t){if(t.start_time||t.end_time||t.date||t.staff_id){const s=await this.checkAvailability({staff_id:t.staff_id,date:t.date,start_time:t.start_time,end_time:t.end_time,booking_id:e});if(!s.is_valid)throw new Error(s.message||"Time slot is not available")}const{data:n,error:r}=await V.from("bookings").update(t).eq("id",e).select(`
        *,
        users (
          name,
          phone
        ),
        staff (
          name
        )
      `).single();if(r)throw r;return n},async deleteBooking(e){const{error:t}=await V.from("bookings").delete().eq("id",e);if(t)throw t}},Qx=()=>{const[e,t]=k.useState(!0),[n,r]=k.useState(null),[s,i]=k.useState(null),[o,a]=k.useState([]);k.useEffect(()=>{l()},[]);const l=async()=>{try{t(!0);const[x,S]=await Promise.all([Wh.getDashboardStats(),nt.getBookings()]);i(x),a(S.slice(0,5)),r(null)}catch(x){console.error("Error loading dashboard data:",x),r("Failed to load dashboard data")}finally{t(!1)}};if(e)return u.jsx(it,{title:"Dashboard",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(Ci,{size:40,className:"animate-spin text-blue-600"})})});if(n||!s)return u.jsx(it,{title:"Dashboard",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:n||"Failed to load dashboard data"})});const{totalBookings:c,totalRevenue:d,totalUsers:f,dailyStats:p,staffStats:g}=s,v=p.reduce((x,S)=>x+S.totalBookings,0),w=v*.8,_=Math.round((v-w)/w*100),h=p.reduce((x,S)=>x+S.revenue,0),m=h*.9,y=Math.round((h-m)/m*100);return u.jsxs(it,{title:"Dashboard",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx($s,{title:"Total Bookings",value:c,icon:u.jsx(no,{size:18}),change:_}),u.jsx($s,{title:"Total Revenue",value:new Intl.NumberFormat("en-US",{style:"currency",currency:"UZS",minimumFractionDigits:0}).format(d),icon:u.jsx(Jh,{size:18}),change:y}),u.jsx($s,{title:"Total Users",value:f,icon:u.jsx(Qh,{size:18}),change:5}),u.jsx($s,{title:"Conversion Rate",value:`${Math.round(p.reduce((x,S)=>x+S.confirmedBookings,0)/c*100)}%`,icon:u.jsx(Ax,{size:18}),change:3})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Hx,{data:p})}),u.jsx("div",{children:u.jsx(qx,{data:g})})]}),u.jsx(Jx,{bookings:o})]})},Gx=({bookings:e,onDelete:t,onUpdateStatus:n,onSearch:r,onAdd:s,onEdit:i,searchQuery:o,currentPage:a,totalPages:l,onPageChange:c,totalBookings:d})=>{const f=g=>{switch(g){case"confirmed":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[u.jsx(Ni,{size:12,className:"mr-1"}),"Confirmed"]});case"pending":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[u.jsx(qh,{size:12,className:"mr-1"}),"Pending"]});case"cancelled":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[u.jsx(fs,{size:12,className:"mr-1"}),"Cancelled"]});case"completed":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(Ni,{size:12,className:"mr-1"}),"Completed"]});default:return null}},p=()=>{console.log("Export bookings")};return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Bookings"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:g=>r(g.target.value),className:"w-64 border border-gray-300 rounded-lg text-sm pl-8 pr-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.jsx(Rx,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-500",size:16})]}),u.jsxs("button",{onClick:p,className:"flex items-center text-sm bg-gray-100 text-gray-700 px-3 py-1.5 rounded-lg hover:bg-gray-200 transition-colors",children:[u.jsx(Px,{size:16,className:"mr-1.5"}),"Export"]}),u.jsxs("button",{onClick:s,className:"flex items-center text-sm bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Kl,{size:16,className:"mr-1.5"}),"Add Booking"]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Links"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>{var v,w,_;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex items-center",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:(v=g.users)==null?void 0:v.name}),u.jsx("div",{className:"text-sm text-gray-500",children:(w=g.users)==null?void 0:w.phone})]})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(_=g.staff)==null?void 0:_.name})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(no,{size:16,className:"text-gray-400 mr-1.5"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-900",children:new Date(g.date).toLocaleDateString()}),u.jsxs("div",{className:"text-sm text-gray-500",children:[g.start_time," - ",g.end_time]})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f(g.status)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.payment_id?u.jsx("div",{className:"text-sm text-gray-900",children:g.payment_id}):u.jsx("span",{className:"text-sm text-gray-500",children:"No payment"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex space-x-2",children:[g.zoom_link&&u.jsx("a",{href:g.zoom_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"text-sm mr-1",children:"Zoom"}),u.jsx(Mc,{size:14})]})}),g.bitrix_event_id&&u.jsx("a",{href:`https://example.com/calendar/${g.bitrix_event_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-800",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"text-sm mr-1",children:"Calendar"}),u.jsx(Mc,{size:14})]})})]})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[u.jsxs("select",{value:g.status,onChange:h=>n(g.id,h.target.value),className:"mr-3 text-sm border border-gray-300 rounded-md",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"}),u.jsx("option",{value:"completed",children:"Completed"})]}),u.jsx("button",{onClick:()=>i(g),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),u.jsx("button",{onClick:()=>t(g.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},g.id)})})]})}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",u.jsx("span",{className:"font-medium",children:(a-1)*10+1})," ","to"," ",u.jsx("span",{className:"font-medium",children:Math.min(a*10,d)})," ","of"," ",u.jsx("span",{className:"font-medium",children:d})," bookings"]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("button",{onClick:()=>c(a-1),disabled:a===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(Vh,{size:16})}),Array.from({length:l},(g,v)=>v+1).map(g=>u.jsx("button",{onClick:()=>c(g),className:`px-3 py-1 border rounded-md text-sm font-medium ${a===g?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:g},g)),u.jsx("button",{onClick:()=>c(a+1),disabled:a===l,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(Hh,{size:16})})]})]})]})},$n={async getStaff(){const{data:e,error:t}=await V.from("staff").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},async createStaff(e){const{data:t,error:n}=await V.from("staff").insert([e]).select().single();if(n)throw n;return t},async updateStaff(e,t){const{data:n,error:r}=await V.from("staff").update(t).eq("id",e).select().single();if(r)throw r;return n},async deleteStaff(e){const{error:t}=await V.from("staff").delete().eq("id",e);if(t)throw t}};function Kx(e,t){const n=k.useRef(e);k.useEffect(()=>{n.current=e},[e]),k.useEffect(()=>{{const r=setInterval(()=>n.current(),t);return()=>clearInterval(r)}},[t])}const Yx=({booking:e,onSubmit:t,onCancel:n})=>{var B,L;const[r,s]=k.useState([]),[i,o]=k.useState((e==null?void 0:e.staff_id)||""),[a,l]=k.useState((e==null?void 0:e.date)||""),[c,d]=k.useState([]),[f,p]=k.useState(e?{start_time:e.start_time,end_time:e.end_time,is_available:!0}:null),[g,v]=k.useState({name:((B=e==null?void 0:e.users)==null?void 0:B.name)||"",phone:((L=e==null?void 0:e.users)==null?void 0:L.phone)||""}),[w,_]=k.useState(!1),[h,m]=k.useState(!1),[y,x]=k.useState(null);k.useEffect(()=>{if(i&&a){const b=V.channel("booking-changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`staff_id=eq.${i} AND date=eq.${a}`},()=>{E()}).subscribe();return()=>{b.unsubscribe()}}},[i,a]),Kx(()=>{i&&a&&E()},3e4),k.useEffect(()=>{S()},[]),k.useEffect(()=>{i&&a&&E()},[i,a]);const S=async()=>{try{const b=await $n.getStaff();s(b.filter($=>$.available))}catch(b){x("Failed to load staff members"),console.error(b)}},E=async()=>{try{m(!0);const b=await nt.getAvailableTimeSlots(i,a);d(b),f&&!b.some($=>$.start_time===f.start_time&&$.end_time===f.end_time&&$.is_available)&&(p(null),x("Previously selected time slot is no longer available"))}catch(b){x("Failed to load available time slots"),console.error(b)}finally{m(!1)}},P=async()=>{if(!i||!a||!f)return!1;try{return await nt.checkAvailability({staff_id:i,date:a,start_time:f.start_time,end_time:f.end_time,booking_id:e==null?void 0:e.id})?!0:(x("Selected time slot is no longer available"),E(),!1)}catch(b){return x("Failed to validate time slot availability"),console.error(b),!1}},T=async b=>{var $,ie,We;if(b.preventDefault(),!i||!a||!f){x("Please fill in all required fields");return}_(!0),x(null);try{if(!await P()){_(!1);return}const{data:ur,error:vn}=await V.from("users").insert({telegram_id:`temp_${Date.now()}`,name:g.name,phone:g.phone,language:"en"}).select("id").single();if(vn)throw vn;const N={user_id:ur.id,staff_id:i,date:a,start_time:f.start_time,end_time:f.end_time,status:(e==null?void 0:e.status)||"pending"};e?await nt.updateBooking(e.id,N):await nt.createBooking(N),await t(N),n()}catch(ot){($=ot.message)!=null&&$.includes("check_booking_availability")||(ie=ot.message)!=null&&ie.includes("Time slot conflicts with existing booking")?(x("This time slot is no longer available - another booking was just made"),await E(),p(null)):ot.code==="23505"&&((We=ot.message)!=null&&We.includes("users_telegram_id_key"))?x("A user with this information already exists"):x(ot.message||"Failed to save booking"),console.error("Booking error:",ot)}finally{_(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center",children:u.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?"Edit Booking":"New Booking"}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-500",children:u.jsx(fs,{size:20})})]}),u.jsxs("form",{onSubmit:T,className:"p-6",children:[y&&u.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative flex items-center",children:[u.jsx(Sx,{size:16,className:"mr-2 flex-shrink-0"}),y]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),u.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"",children:"Select staff member"}),r.map(b=>u.jsxs("option",{value:b.id,children:[b.name," - ",b.position]},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),u.jsx("input",{type:"date",value:a,onChange:b=>l(b.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i&&a&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Slot"}),h?u.jsx("div",{className:"flex items-center justify-center py-4",children:u.jsx(Ci,{size:24,className:"animate-spin text-blue-600"})}):u.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.length>0?c.map((b,$)=>u.jsxs("button",{type:"button",onClick:()=>p(b),disabled:!b.is_available,className:`px-3 py-2 text-sm rounded-lg border ${(f==null?void 0:f.start_time)===b.start_time?"border-blue-600 bg-blue-50 text-blue-700":b.is_available?"border-gray-300 hover:bg-gray-50":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[b.start_time," - ",b.end_time,!b.is_available&&u.jsx("span",{className:"block text-xs text-gray-500",children:"Booked"})]},$)):u.jsx("div",{className:"col-span-2 text-sm text-gray-500 text-center py-2",children:"No available time slots for this date"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),u.jsx("input",{type:"text",value:g.name,onChange:b=>v({...g,name:b.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),u.jsx("input",{type:"tel",value:g.phone,onChange:b=>v({...g,phone:b.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+998 90 123 45 67"})]})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:w||!f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:w?u.jsxs(u.Fragment,{children:[u.jsx(Ci,{size:16,className:"animate-spin mr-2"}),"Saving..."]}):e?"Update Booking":"Create Booking"})]})]})]})})},Xx=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(null),[o,a]=k.useState(""),[l,c]=k.useState(1),[d,f]=k.useState(0),[p,g]=k.useState(!1),[v,w]=k.useState(null),_=10;k.useEffect(()=>{h()},[l]);const h=async()=>{try{r(!0);const b=await nt.getBookings();t(b),f(b.length),i(null)}catch(b){console.error("Error loading bookings:",b),i("Failed to load bookings")}finally{r(!1)}},m=async b=>{if(confirm("Are you sure you want to delete this booking? This action cannot be undone."))try{await nt.deleteBooking(b),t(e.filter($=>$.id!==b))}catch($){console.error("Error deleting booking:",$),i("Failed to delete booking")}},y=async(b,$)=>{try{const ie=await nt.updateBooking(b,{status:$});t(e.map(We=>We.id===b?ie:We))}catch(ie){console.error("Error updating booking status:",ie),i("Failed to update booking status")}},x=b=>{a(b),c(1)},S=()=>{w(null),g(!0)},E=b=>{w(b),g(!0)},P=async b=>{try{if(v){const $=await nt.updateBooking(v.id,b);t(e.map(ie=>ie.id===v.id?$:ie))}else{const $=await nt.createBooking(b);t([$,...e])}g(!1),w(null)}catch($){throw console.error("Error saving booking:",$),$}},T=e.filter(b=>{var ie,We;const $=o.toLowerCase();return((ie=b.users)==null?void 0:ie.name.toLowerCase().includes($))||((We=b.staff)==null?void 0:We.name.toLowerCase().includes($))||b.date.includes($)||b.status.toLowerCase().includes($)}),B=T.slice((l-1)*_,l*_),L=Math.ceil(T.length/_);return n?u.jsx(it,{title:"Bookings",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):u.jsxs(it,{title:"Bookings",children:[s&&u.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:s}),u.jsx(Gx,{bookings:B,onDelete:m,onUpdateStatus:y,onSearch:x,searchQuery:o,currentPage:l,totalPages:L,onPageChange:c,totalBookings:d,onAdd:S,onEdit:E}),p&&u.jsx(Yx,{booking:v||void 0,onSubmit:P,onCancel:()=>{g(!1),w(null)}})]})},Zx=({staff:e,onEdit:t=()=>{},onDelete:n=()=>{},onAdd:r=()=>{}})=>u.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Members"}),u.jsxs("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium flex items-center hover:bg-blue-700 transition-colors",children:[u.jsx(Kl,{size:16,className:"mr-1.5"}),"Add Staff"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:u.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:s.photo_url,alt:s.name})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),u.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",s.id]})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:s.position})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"UZS",minimumFractionDigits:0}).format(s.pricing)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.available?u.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):u.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Inactive"})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[u.jsx("button",{onClick:()=>t(s.id),className:"text-blue-600 hover:text-blue-900 mr-3",children:u.jsx(Dx,{size:18})}),u.jsx("button",{onClick:()=>n(s.id),className:"text-red-600 hover:text-red-900",children:u.jsx(Ix,{size:18})})]})]},s.id))})]})})]}),e1={name:"",position:"",photo_url:"",description_en:"",description_ru:"",description_uz:"",pricing:0,available:!0},t1=({staff:e,onSubmit:t,onCancel:n})=>{const[r,s]=k.useState(e||e1),i=a=>{const{name:l,value:c,type:d}=a.target;if(d==="checkbox"){const f=a.target;s({...r,[l]:f.checked})}else s(l==="pricing"?{...r,[l]:parseInt(c,10)||0}:{...r,[l]:c})},o=a=>{a.preventDefault(),t(r)};return u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?"Edit Staff Member":"Add New Staff Member"}),u.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:u.jsx(fs,{size:20})})]}),u.jsxs("form",{onSubmit:o,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",name:"name",value:r.name,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Full Name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),u.jsx("input",{type:"text",name:"position",value:r.position,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Job Title",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Photo URL"}),u.jsx("input",{type:"text",name:"photo_url",value:r.photo_url,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/photo.jpg",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pricing (UZS)"}),u.jsx("input",{type:"number",name:"pricing",value:r.pricing,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Price in UZS",required:!0,min:"0",step:"1000"})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",name:"available",checked:r.available,onChange:i,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{className:"ml-2 block text-sm font-medium text-gray-700",children:"Active"})]})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Descriptions"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"English"}),u.jsx("textarea",{name:"description_en",value:r.description_en,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Description in English",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Russian"}),u.jsx("textarea",{name:"description_ru",value:r.description_ru,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Description in Russian",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uzbek"}),u.jsx("textarea",{name:"description_uz",value:r.description_uz,onChange:i,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Description in Uzbek",required:!0})]})]})]}),u.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:e?"Update Staff":"Add Staff"})]})]})]})},n1=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[s,i]=k.useState(null),[o,a]=k.useState(!0),[l,c]=k.useState(null);to(_=>_.user),k.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const _=await $n.getStaff();t(_),c(null)}catch(_){c("Failed to load staff members"),console.error(_)}finally{a(!1)}},f=()=>{i(null),r(!0)},p=_=>{const h=e.find(m=>m.id===_);h&&(i(h),r(!0))},g=async _=>{if(confirm("Are you sure you want to delete this staff member? This action cannot be undone."))try{await $n.deleteStaff(_),t(e.filter(h=>h.id!==_))}catch(h){c("Failed to delete staff member"),console.error(h)}},v=async _=>{try{if(s){const h=await $n.updateStaff(s.id,_);t(e.map(m=>m.id===s.id?h:m))}else{const h=await $n.createStaff(_);t([h,...e])}r(!1),i(null),c(null)}catch(h){c(s?"Failed to update staff member":"Failed to create staff member"),console.error(h)}},w=()=>{r(!1),i(null)};return o?u.jsx(it,{title:"Staff Management",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):u.jsxs(it,{title:"Staff Management",children:[l&&u.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:l}),n?u.jsx(t1,{staff:s||void 0,onSubmit:v,onCancel:w}):u.jsx(Zx,{staff:e,onEdit:p,onDelete:g,onAdd:f})]})},r1=({staff:e,selectedStaffId:t,weekSchedule:n,onTimeSlotAdd:r,onTimeSlotRemove:s,onToggleWorkingDay:i,onPrevWeek:o,onNextWeek:a})=>{const[l,c]=k.useState(null),[d,f]=k.useState("09:00"),[p,g]=k.useState("10:00"),v=e.find(h=>h.id===t),w=h=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h],_=h=>{d&&p&&(r(h,{start:d,end:p}),c(null))};return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-gray-200",children:u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Schedule"}),u.jsx("p",{className:"text-sm text-gray-500",children:v?`${v.name}'s availability`:"Select a staff member"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("select",{className:"border border-gray-300 rounded-md text-sm px-3 py-1.5",value:t,onChange:h=>{},children:e.map(h=>u.jsx("option",{value:h.id,children:h.name},h.id))}),u.jsxs("div",{className:"flex items-center ml-4",children:[u.jsx("button",{onClick:o,className:"p-1.5 rounded-l-md border border-gray-300 hover:bg-gray-100",children:u.jsx(Vh,{size:16})}),u.jsx("button",{onClick:a,className:"p-1.5 rounded-r-md border-t border-r border-b border-gray-300 hover:bg-gray-100",children:u.jsx(Hh,{size:16})})]})]})]})}),u.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:n.map((h,m)=>u.jsxs("div",{className:`p-2 text-center text-sm ${m===0||m===6?"bg-gray-100":""}`,children:[u.jsx("div",{className:"font-medium",children:w(h.dayOfWeek)}),u.jsx("div",{className:"text-gray-500",children:new Date(h.date).getDate()})]},h.date))}),u.jsx("div",{className:"grid grid-cols-7 divide-x divide-gray-200",children:n.map(h=>u.jsxs("div",{className:"min-h-[300px] p-2 relative",children:[u.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:h.isWorking,onChange:m=>i(h.date,m.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("span",{className:"text-xs ml-1.5",children:"Working"})]}),h.isWorking&&u.jsx("button",{onClick:()=>c(h.date),className:"p-1 text-blue-600 hover:text-blue-800 rounded",children:u.jsx(Kl,{size:16})})]}),h.isWorking?u.jsxs("div",{className:"space-y-1.5",children:[h.timeSlots.map((m,y)=>u.jsxs("div",{className:"bg-blue-100 p-1.5 rounded text-xs flex justify-between items-center",children:[u.jsxs("span",{className:"text-blue-800",children:[m.start," - ",m.end]}),u.jsx("button",{onClick:()=>s(h.date,m),className:"text-blue-600 hover:text-blue-800",children:u.jsx(fs,{size:14})})]},y)),l===h.date&&u.jsxs("div",{className:"bg-white p-2 border border-blue-300 rounded shadow-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-1 mb-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600",children:"Start"}),u.jsx("input",{type:"time",value:d,onChange:m=>f(m.target.value),className:"w-full text-xs border border-gray-300 rounded p-1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600",children:"End"}),u.jsx("input",{type:"time",value:p,onChange:m=>g(m.target.value),className:"w-full text-xs border border-gray-300 rounded p-1"})]})]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("button",{onClick:()=>_(h.date),className:"bg-blue-600 text-white text-xs py-1 px-2 rounded flex-1",children:"Add"}),u.jsx("button",{onClick:()=>c(null),className:"border border-gray-300 text-gray-700 text-xs py-1 px-2 rounded",children:"Cancel"})]})]})]}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("span",{className:"text-gray-400 text-xs",children:"Day Off"})})]},h.date))})]})},Ms={async getStaffSchedule(e,t,n){const{data:r,error:s}=await V.from("schedules").select(`
        id,
        date,
        is_working,
        time_slots (
          id,
          start_time,
          end_time
        )
      `).eq("staff_id",e).gte("date",t).lte("date",n).order("date");if(s)throw s;const i=[],o=new Date(t),a=new Date(n);for(;o<=a;){const l=o.toISOString().split("T")[0],c=r==null?void 0:r.find(d=>d.date===l);i.push({id:c==null?void 0:c.id,date:l,dayOfWeek:o.getDay(),isWorking:(c==null?void 0:c.is_working)??!1,timeSlots:(c==null?void 0:c.time_slots.map(d=>({id:d.id,start:d.start_time,end:d.end_time})))??[]}),o.setDate(o.getDate()+1)}return i},async setWorkingDay(e,t,n){const{data:r}=await V.from("schedules").select("id").eq("staff_id",e).eq("date",t).limit(1).maybeSingle();if(r){const{data:s,error:i}=await V.from("schedules").update({is_working:n}).eq("id",r.id).select().single();if(i)throw i;return s}else{const{data:s,error:i}=await V.from("schedules").insert({staff_id:e,date:t,is_working:n}).select().single();if(i)throw i;return s}},async addTimeSlot(e,t,n){const{data:r}=await V.from("schedules").select("id").eq("staff_id",e).eq("date",t).limit(1).maybeSingle();let s;if(r)s=r.id;else{const{data:a,error:l}=await V.from("schedules").insert({staff_id:e,date:t,is_working:!0}).select().single();if(l)throw l;s=a.id}const{data:i,error:o}=await V.from("time_slots").insert({schedule_id:s,start_time:n.start,end_time:n.end}).select().single();if(o)throw o;return i},async removeTimeSlot(e,t){const{error:n}=await V.from("time_slots").delete().eq("id",t).eq("schedule_id",e);if(n)throw n}},s1=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(0),[s,i]=k.useState([]),[o,a]=k.useState([]),[l,c]=k.useState(!0),[d,f]=k.useState(null);k.useEffect(()=>{p()},[]),k.useEffect(()=>{e&&g()},[e,n]);const p=async()=>{try{const y=await $n.getStaff();y&&y.length>0&&(i(y),t(y[0].id)),f(null)}catch(y){console.error("Error loading staff:",y),f("Failed to load staff members")}finally{c(!1)}},g=async()=>{try{const y=new Date;y.setDate(y.getDate()+n*7);const x=new Date(y);x.setDate(x.getDate()+6);const S=await Ms.getStaffSchedule(e,y.toISOString().split("T")[0],x.toISOString().split("T")[0]);a(S),f(null)}catch(y){console.error("Error loading schedule:",y),f("Failed to load schedule")}},v=async(y,x)=>{try{await Ms.addTimeSlot(e,y,x),await g(),f(null)}catch(S){console.error("Error adding time slot:",S),f("Failed to add time slot")}},w=async(y,x)=>{try{const S=o.find(E=>E.date===y);if(S){const E=S.timeSlots.find(P=>P.start===x.start&&P.end===x.end);E&&(await Ms.removeTimeSlot(S.id,E.id),await g(),f(null))}}catch(S){console.error("Error removing time slot:",S),f("Failed to remove time slot")}},_=async(y,x)=>{try{await Ms.setWorkingDay(e,y,x),await g(),f(null)}catch(S){console.error("Error toggling working day:",S),f("Failed to update working day")}},h=()=>{r(y=>y-1)},m=()=>{r(y=>y+1)};return l?u.jsx(it,{title:"Schedule Management",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):u.jsxs(it,{title:"Schedule Management",children:[d&&u.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:d}),u.jsx(r1,{staff:s,selectedStaffId:e,weekSchedule:o,onTimeSlotAdd:v,onTimeSlotRemove:w,onToggleWorkingDay:_,onPrevWeek:h,onNextWeek:m})]})},Us=({title:e,description:t,icon:n,status:r,onConnect:s,onDisconnect:i,extraInfo:o})=>u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("div",{className:"bg-blue-50 p-3 rounded-lg text-blue-600 mr-4",children:n}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),u.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsx("div",{className:"flex items-center",children:r==="connected"?u.jsxs(u.Fragment,{children:[u.jsx(Cx,{size:18,className:"text-green-600 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-green-600",children:"Connected"})]}):r==="pending"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mr-2"}),u.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Connecting..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ux,{size:18,className:"text-red-600 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-red-600",children:"Disconnected"})]})}),r==="connected"?u.jsx("button",{onClick:i,className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Disconnect"}):u.jsx("button",{onClick:s,className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",disabled:r==="pending",children:r==="pending"?"Connecting...":"Connect"})]}),o&&u.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:o})]}),i1=()=>u.jsxs(it,{title:"Settings",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(Us,{title:"Zoom",description:"Connect your Zoom account to automatically create meetings for bookings.",icon:u.jsx(Mx,{size:24}),status:"connected",onConnect:()=>{},onDisconnect:()=>{},extraInfo:u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("div",{className:"font-medium mb-1",children:"Connected Account"}),u.jsx("div",{children:"company@example.com"})]})}),u.jsx(Us,{title:"Bitrix24",description:"Sync bookings with your Bitrix24 calendar for staff scheduling.",icon:u.jsx(Ei,{size:24}),status:"connected",onConnect:()=>{},onDisconnect:()=>{},extraInfo:u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("div",{className:"font-medium mb-1",children:"Webhook URL"}),u.jsx("div",{className:"font-mono text-xs bg-gray-100 p-1.5 rounded overflow-x-auto",children:"https://example.bitrix24.com/rest/1/abc123xyz/"})]})}),u.jsx(Us,{title:"Click.uz Payments",description:"Accept payments through Click.uz payment gateway.",icon:u.jsx(Jh,{size:24}),status:"disconnected",onConnect:()=>{},onDisconnect:()=>{}}),u.jsx(Us,{title:"Telegram Bot",description:"Configure your Telegram bot settings and webhook.",icon:u.jsx(zx,{size:24}),status:"connected",onConnect:()=>{},onDisconnect:()=>{},extraInfo:u.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Bot Username"}),u.jsx("div",{children:"@YourBookingBot"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Webhook URL"}),u.jsx("div",{className:"font-mono text-xs bg-gray-100 p-1.5 rounded overflow-x-auto",children:"https://booking.example.com/api/webhook/telegram"})]})]})})]}),u.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bot Settings"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Meeting Duration (minutes)"}),u.jsx("input",{type:"number",defaultValue:60,min:15,step:15,className:"w-full max-w-xs rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advance Booking Window (days)"}),u.jsx("input",{type:"number",defaultValue:14,min:1,className:"w-full max-w-xs rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Welcome Message"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"English"}),u.jsx("textarea",{defaultValue:"Welcome to our booking bot! Please select your language to get started.",rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Russian"}),u.jsx("textarea",{defaultValue:"      ! ,  ,  .",rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Uzbek"}),u.jsx("textarea",{defaultValue:"Bizning bron qilish botimizga xush kelibsiz! Boshlash uchun tilni tanlang.",rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),u.jsx("div",{className:"mt-8 flex justify-end",children:u.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Save Settings"})})]})]});function o1(){return u.jsx(w0,{children:u.jsxs(f0,{children:[u.jsx(xt,{path:"/login",element:u.jsx(Fx,{})}),u.jsx(xt,{path:"/dashboard",element:u.jsx(As,{children:u.jsx(Qx,{})})}),u.jsx(xt,{path:"/bookings",element:u.jsx(As,{children:u.jsx(Xx,{})})}),u.jsx(xt,{path:"/staff",element:u.jsx(As,{children:u.jsx(n1,{})})}),u.jsx(xt,{path:"/schedule",element:u.jsx(As,{children:u.jsx(s1,{})})}),u.jsx(xt,{path:"/settings",element:u.jsx(xx,{children:u.jsx(i1,{})})}),u.jsx(xt,{path:"*",element:u.jsx(Vl,{to:"/dashboard",replace:!0})})]})})}eh(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(o1,{})}));export{Uc as g};
